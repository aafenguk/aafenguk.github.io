<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>aafeng</title>
  <icon>https://www.gravatar.com/avatar/a176a52d9d4ac7d9f90a5204a7d87bcd</icon>
  <subtitle>aafeng&#39;s blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.aafeng.uk/"/>
  <updated>2020-05-19T20:24:45.899Z</updated>
  <id>https://www.aafeng.uk/</id>
  
  <author>
    <name>aafeng</name>
    <email>aafenguk@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Python学习笔记</title>
    <link href="https://www.aafeng.uk/python-tips/"/>
    <id>https://www.aafeng.uk/python-tips/</id>
    <published>2020-05-19T20:24:45.899Z</published>
    <updated>2020-05-19T20:24:45.899Z</updated>
    
    <content type="html"><![CDATA[<p>其实Python我已经用了很多年了，用起来也比较顺手。但最近开始教自己的孩子学习Python时，还是发现了许多自己需要更新的知识。有些是自己没用过，不知道的，有些则是能让Python程序更加优雅，或者更加有效的。下面总结几点。</p><p><img src="/images/technology/python/python.png" alt="Python"></p><a id="more"></a><h2 id="关于格式化字符串"><a href="#关于格式化字符串" class="headerlink" title="关于格式化字符串"></a>关于格式化字符串</h2><p>我一般使用的方式是：</p><pre><code>&quot;One for %s, one for me.&quot; % name</code></pre><p>这种方式能够正常工作，但建议的方式是：</p><pre><code>&apos;One for {name}, one for me.&apos;.format(name=name)</code></pre><p>或者简化为：</p><pre><code>&apos;One for {}, one for me.&apos;.format(name)</code></pre><h2 id="sort-和-sorted的区别"><a href="#sort-和-sorted的区别" class="headerlink" title="sort 和 sorted的区别"></a>sort 和 sorted的区别</h2><p>首先进行一个简单的试验：</p><p><img src="/images/technology/python/python2.png" alt="Python"></p><p>可以看到，sorted会将列表进行排序，并返回一个新的列表。而sort()则会将列表进行排序。在Python的函数中，尽量不要使用sort()方法，以避免改变传入的参数。就像别人借给你一样东西，肯定希望你完好无损的归还一样。</p><h2 id="关于数组越界的问题"><a href="#关于数组越界的问题" class="headerlink" title="关于数组越界的问题"></a>关于数组越界的问题</h2><p>Python其实很聪明的，它知道如何判断数组越界，并会在数组越界时自动的帮你处理。比如，有些人的Python代码会这样写：</p><pre><code>sorted_array = sorted(scores,reverse=True)return sorted_array[0:3] if len(sorted_array)&gt;=3 else sorted_array</code></pre><p>其实完全不必，可以简化为：</p><pre><code>return sorted(scores,reverse=True)[0:3]</code></pre><h2 id="强大的Python数组操作"><a href="#强大的Python数组操作" class="headerlink" title="强大的Python数组操作"></a>强大的Python数组操作</h2><p>举一个简单的例子：把如下字符串：</p><pre><code>&quot;1 2 3 4\n5 6 7 8\n9 8 7 6&quot;</code></pre><p>转换为一个二位数组：</p><pre><code>1 2 3 45 6 7 89 8 7 6</code></pre><p>可以先使用 splitlines：</p><pre><code>s = &quot;1 2 3 4\n5 6 7 8\n9 8 7 6&quot;&gt;&gt;&gt; lines = s.splitlines()&gt;&gt;&gt; lines[&apos;1 2 3 4&apos;, &apos;5 6 7 8&apos;, &apos;9 8 7 6&apos;]</code></pre><p>然后再进一步处理：</p><pre><code>&gt;&gt;&gt; rows = [[int(v) for v in row.split()] for row in lines]&gt;&gt;&gt; rows[[1, 2, 3, 4], [5, 6, 7, 8], [9, 8, 7, 6]]</code></pre>]]></content>
    
    <summary type="html">
    
      Python 学习笔记
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Python" scheme="https://www.aafeng.uk/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>制作网红巴斯克芝士蛋糕</title>
    <link href="https://www.aafeng.uk/cheese-cake/"/>
    <id>https://www.aafeng.uk/cheese-cake/</id>
    <published>2020-05-19T08:09:29.085Z</published>
    <updated>2020-05-19T08:09:29.085Z</updated>
    
    <content type="html"><![CDATA[<p>最近孩子们看上了丑萌的巴斯克芝士蛋糕，于是在妈妈的带领下进行尝试，成功的做出了这款网红蛋糕。而我的角色是摄影师，全程记录了整个制作过程。整体感觉这款蛋糕真的很丑，但做法超级简单，失败率极低，而且真心好吃！</p><p><img src="/images/food/cheesecake/1.jpg" alt="巴斯克芝士蛋糕"></p><a id="more"></a><p>这款蛋糕的名字巴斯克源于其发源地西班牙巴斯克地区。其实这款蛋糕在几十年前就被发明了出来，但在2019年才成为了网红，据说其最大的卖点就是看起来像是烤糊了。。。</p><p>这款蛋糕的主要原料就是软芝士，我们用的是两盒180克的Philadelphia奶酪。再配以糖，鸡蛋，面粉，奶油和黄油。注意这个奶酪千万不要买错了喔，曾经听过一个悲催的故事，有人用Cheddar Cheese试图做芝士蛋糕，其结果就可想而知了。。。</p><p><img src="/images/food/cheesecake/2.jpg" alt="巴斯克芝士蛋糕"></p><p>Philadelphia奶酪需要在室温下放置一段时间以便于搅拌。随后和其他原料一起搅拌，需要注意搅拌器的速度应调至最低，待拌匀无颗粒后倒入蛋糕模具中。</p><p>可以在模具四壁涂上些黄油，这样就比较容易把烘培纸放好，也便于在制作完毕后脱模。</p><p>所有准备工作都做好后，把模具放入预热到200度的模具中烤30分钟就可以了。乍一看，似乎真的是烤过了。。。</p><p><img src="/images/food/cheesecake/3.jpg" alt="巴斯克芝士蛋糕"></p><p>在蛋糕冷却后最好放入冰箱冷藏几个小时后再食用，效果更好！看看最后装盘的效果，Yummy！</p><p><img src="/images/food/cheesecake/4.jpg" alt="巴斯克芝士蛋糕"></p>]]></content>
    
    <summary type="html">
    
      制作网红巴斯克芝士蛋糕
    
    </summary>
    
      <category term="美食" scheme="https://www.aafeng.uk/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>Java应用程序性能调优的神器 - Glowroot</title>
    <link href="https://www.aafeng.uk/glowroot/"/>
    <id>https://www.aafeng.uk/glowroot/</id>
    <published>2020-05-17T19:43:11.206Z</published>
    <updated>2020-05-17T19:43:11.206Z</updated>
    
    <content type="html"><![CDATA[<p>最近遇到一个Java Web应用中的性能问题。在某个时段整个程序的响应时间过长。在分析了日志后没有任何头绪。于是祭出了Glowroot这个Java性能调优的大杀器，终于将问题找了出来。下面把这个强悍的工具向大家介绍一下。</p><p><img src="/images/technology/glowroot/glowroot.png" alt="Glowroot"></p><a id="more"></a><h2 id="安装及配置"><a href="#安装及配置" class="headerlink" title="安装及配置"></a>安装及配置</h2><p>首先在其<a href="https://glowroot.org/" rel="external nofollow noopener noreferrer" target="_blank">官网</a>下载压缩包。如果对其源码感兴趣的话，这里是其<a href="https://github.com/glowroot/glowroot" rel="external nofollow noopener noreferrer" target="_blank">Github页面</a>。将压缩文件下载并解压缩后会在相应子目录(glowroot)中看到glowroot.jar这个文件。</p><p>由于我是对Tomcat容器中的程序进行性能调优，因此需要将Glowroot对应子目录的所有者改为运行Tomcat的用户，我这里是”tomcat”。这么做的主要原因是因为Glowroot在运行时需要创建logs, tmp等子目录并要在其中创建文件。</p><pre><code>sudo chown tomcat:tomcat glowroot</code></pre><p>接下来需要在启动Tomcat的时候添加JVM的参数。如果是通过apt方式安装的Tomcat，那么配置文件在：/etc/default/tomcat8，添加如下内容：</p><pre><code>-javaagent:/opt/york/digilib/glowroot/glowroot.jar</code></pre><p>至此，就可以进行测试了。重新启动Tomcat，访问本机的4000端口：</p><pre><code>http://localhost:4000</code></pre><p>就可以看到Glowroot的主界面了：</p><p><img src="/images/technology/glowroot/glowroot2.png" alt="Glowroot"></p><h2 id="主要性能指标"><a href="#主要性能指标" class="headerlink" title="主要性能指标"></a>主要性能指标</h2><p>首先，在Glowroot中可以很方便的查看响应时间的瓶颈，甚至能定位到具体的某个类。比如，在下图中可以看到spring controller占用了响应时间的83.9%，这肯定不正常。其实，我性能调优最后的结论就是spring controller出的问题。最终的解决方案也是基于这个发现的。</p><p><img src="/images/technology/glowroot/glowroot3.png" alt="Glowroot"></p><p>还可以查看各个线程的资源使用，同样，其分析结果直指spring中的doGet方法：</p><p><img src="/images/technology/glowroot/glowroot4.png" alt="Glowroot"></p><p>除此之外，还有对各种REST API调用的分析等。</p><h2 id="进一步配置"><a href="#进一步配置" class="headerlink" title="进一步配置"></a>进一步配置</h2><p>Glowroot有一个配置文件：admin.json。在刚安装的时候，你是找不到这个文件的。你可以选择自己手工创建它。但由于刚开始使用时不知道该如何进行配置，这里建议先不要管它，直接重新启动Tomcat，这样在Glowroot被首次启动后，就会在其目录下创建admin.json这个文件。这个时候你就可以在其基础上进行修改了，这样就会简单的多。</p><p>Glowroot的默认配置下，只能从本机访问，如果要从外部访问，可以更改这一段：</p><pre><code>&quot;bindAddress&quot;: &quot;0.0.0.0&quot;,</code></pre><p>如果要更改端口：</p><pre><code>&quot;port&quot;: 4000,</code></pre><p>默认设置下，匿名账户具有管理员权限，这肯定是要改的。以下会添加新用户’admin’，将匿名用户(anonymous)的角色改为’Anonymous’，并添加一个新的角色“Anonymous”：</p><p>   “users”: [<br>      {<br>        “username”: “admin”,<br>        “password”: “xxxxxxxx”,<br>        “roles”: [<br>          “Administrator”<br>        ]<br>      },<br>      {<br>        “username”: “anonymous”,<br>        “roles”: [<br>          “Anonymous”<br>        ]<br>      }<br>    ],<br>    {<br>      “name”: “Anonymous”,<br>      “permissions”: [<br>        “agent:transaction”,<br>        “agent:error”,<br>        “agent:jvm:gauges”,<br>        “agent:jvm:threadDump”,<br>        “agent:jvm:heapHistogram”,<br>        “agent:jvm:mbeanTree”,<br>        “agent:jvm:systemProperties”,<br>        “agent:jvm:environment”,<br>        “agent:config:view”,<br>        “admin:view”<br>      ]<br>    }</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>之前也用过jvisualvm进行Java应用程序的性能调优，但感觉它特别吃内存，会严重影响服务器的性能。Glowroot似乎没有这个问题，添加这个模块后并没有感觉服务器的性能下降。同时，感觉Glowroot更加直观好用，能够迅速定位到出问题的类，以及相应的线程。从而帮助你快速找到问题的根源所在。</p>]]></content>
    
    <summary type="html">
    
      Java应用程序性能调优的神器 - Glowroot
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>细思极恐 - 其实我们都是斯金纳箱中的鸽子</title>
    <link href="https://www.aafeng.uk/skinner-box/"/>
    <id>https://www.aafeng.uk/skinner-box/</id>
    <published>2020-05-17T10:36:48.172Z</published>
    <updated>2020-05-17T10:36:48.172Z</updated>
    
    <content type="html"><![CDATA[<p>不知道你有没有这样的经历，有时候手机不在旁边感觉似乎缺了点什么。而下意识的拿起手机似乎又不知道为什么要把它拿起来，也不知道要拿它做什么。最近看到一个观点似乎能够完美的解释这种行为。说白了，我们掉到了那些专业的产品设计师所设计好的坑里了。我们平常的很多行为，比如：对手机的使用，对某款游戏的上瘾，其实都是处于别人的掌控之中。我们更像是行为心理学中的经典实验，斯金纳箱中的鸽子。</p><p><img src="/images/life/pigeon.jpg" alt="斯金纳箱中的鸽子"></p><a id="more"></a><p>斯金纳是行为心理学的大师，他把巴甫洛夫和桑代克关于条件反射的理论更上一层楼，提出了一个新的观点：操作性条件反射。说白了，就是动物（包括人）的很多条件反射是完全可以操作的。比如：人的恐怖情绪是可以被操控的。他曾经做过一个著名的鸽子实验。在实验中，他把鸽子关在笼子中，每过15秒就用喂食器自动给鸽子喂食，这样过了一段时间后，他发现了一个奇怪的现象：笼中的鸽子在被喂食前做着各种这样的奇怪动作，有的鸽子左右摇头，有的鸽子走来走去，有的鸽子翩翩起舞，似乎鸽子们通过这种方式来祈求食物的到来。即使后来他彻底停止了对鸽子的喂食，但鸽子仍然在做着各种动作，仍然希望食物的来临。</p><p>斯金纳还曾经做过一个很不人道（后来被禁止）的实验，证明了可以控制人的恐惧感。在实验中他们把各种毛绒玩具放在一个小婴儿面前，婴儿对这些玩具展示出强烈的兴趣。实验者带着圣诞老人的面具来到婴儿面前，婴儿也非常喜欢。之后他们做了一件事，就是在婴儿和玩具接触的时候，制造出一种让人不适的噪音来，婴儿听到噪音后吓得大哭。之后只要婴儿一接触这些玩具，他们就制造出噪音。久而久之，婴儿就把这些玩具和噪音联系到了一起。之后只要看到毛绒玩具就很恐惧。</p><p>其实在我们的生活中，有很多这样的例子。很多产品的设计师也在把这种观点应用到了各种产品中。比如：我家孩子经常使用一个APP，叫做Receipt Hog，每次购物后我会把小票给他们，他们用这个APP把小票扫描进去，并做一个简单的问卷，就会得到一定的积分，达到一定分值后可以兑换现金，同时还会随机的给他们抽奖的机会。迄今为止他们已经领到10英镑了。但现在我所看到的是，孩子们对待小票的行为已经完全被这个APP所控制。每次购物回来后，他们肯定不会忘记和我要小票。</p><p>还有一个有趣的例子就是我经常去一家超市购物，感觉这家超市在深入的研究客户的行为。如果我有一段时间不去他家购物，他家就会给我寄送优惠券来，比如：满40英镑返8镑。如果我使用了这些优惠券，他们会停止给我寄，再过一段时间会尝试给我寄力度稍微小一些的优惠券，如果我没有用那些优惠券，他们就会再寄来我曾经用过的优惠券，于是我又乖乖的去他家消费了。感觉我的购物行为完全被他家的优惠券牵着鼻子走。。。</p><p>我想类似的例子数不胜数。等到人工智能得到进一步发展后，人类是否终将被某些AI所完全控制，甚至人类思维将会和AI彻底融合？</p>]]></content>
    
    <summary type="html">
    
      细思极恐 - 其实我们都是斯金纳箱中的鸽子
    
    </summary>
    
      <category term="思考" scheme="https://www.aafeng.uk/categories/%E6%80%9D%E8%80%83/"/>
    
    
  </entry>
  
  <entry>
    <title>你是刺猬思维还是狐狸思维？</title>
    <link href="https://www.aafeng.uk/fox-hedgehog/"/>
    <id>https://www.aafeng.uk/fox-hedgehog/</id>
    <published>2020-05-17T10:35:52.928Z</published>
    <updated>2020-05-17T10:35:52.928Z</updated>
    
    <content type="html"><![CDATA[<p>最近看到了一篇文章，对自己的触动很大。文章说的是狐狸思维和刺猬思维在币圈投资中的体现。但其中所讲的道理，适用于生活中的方方面面。</p><p><img src="/images/life/fox.jpg" alt="狐狸思维"></p><a id="more"></a><p>图源：Pixabay</p><p>狐狸和刺猬的故事源于古希腊寓言故事，狐狸想要吃掉刺猬，想尽各种方法进攻，希望能够找到刺猬的弱点。而刺猬只有一招，就是把全身缩成一团，用全身的刺来保护自己。最终狐狸机关算尽还是败在了刺猬的手中。其实这个故事讲的是一个道理：狐狸懂的很多，思维多元化，办法也很多；<strong>刺猬却能够懂的最重要的事</strong>，思维是集中和单一的，但可以做到一招先，吃遍天。</p><p>说白了，刺猬思维是典型的一根筋，认准了一件事情，就不再改变，朝着一个目标努力，直到把事情做完为止。而狐狸思维说的则是很会变通的人，他们脑瓜活络，能够有很多的好点子，但其中的有些人却没有明确的目标，甚至不知道自己想要什么。</p><p>在币圈中估计大家身边都有很多典型的“狐狸”和“刺猬”，我也听说过很多类似的故事。在币圈，有些人认准大饼，买入后长期持有，结果跑赢了绝大多数频繁进行交易的人。金庸迷们熟悉的角色郭靖也是典型的一根筋思维，不懂变通，但却能学会降龙十八掌，傲视群雄。</p><p>其实，我觉得任何事情都不是绝对的。可以在“狐狸”式思维和“刺猬”式思维中有机的切换和变通。在进行思考的时候选择“狐狸”式思维，而在做事的时候则要“刺猬”式思维。</p><p>你是狐狸还是刺猬呢？</p>]]></content>
    
    <summary type="html">
    
      你是刺猬思维还是狐狸思维？
    
    </summary>
    
      <category term="思考" scheme="https://www.aafeng.uk/categories/%E6%80%9D%E8%80%83/"/>
    
    
  </entry>
  
  <entry>
    <title>真实 or 梦境？</title>
    <link href="https://www.aafeng.uk/dream/"/>
    <id>https://www.aafeng.uk/dream/</id>
    <published>2020-05-17T10:21:10.512Z</published>
    <updated>2020-05-17T10:21:10.512Z</updated>
    
    <content type="html"><![CDATA[<p>从新冠状病毒爆发开始，我就有一种奇怪的感觉，感觉自己似乎生活在梦境中，也劝说自己相信这是一个噩梦，很快就有梦醒的时刻。最近这两天一则噩耗让我更加希望自己是生活在一个梦境中。有一位关系最好的前同事不幸病故，更让我不敢相信，也不愿相信其真实性。以至于这两天我感觉有些精神恍惚，每天早晨醒来后都希望自己刚刚做过了一个噩梦，现在梦醒了，一切都过去了。我究竟是在梦中，还是醒着？那位同事是在我的梦中去世的？我很困惑。</p><p><img src="/images/life/dream.jpg" alt="dream"><br>图源：Pixabay</p><a id="more"></a><p>中国古代就有庄生梦蝶的故事，庄生也感觉非常困惑，是他梦到了蝴蝶，还是蝴蝶梦到了他。可见古人很早就开始思考我们处于一个真实世界的可能性。</p><p>马斯克曾经说过一句让世人震惊的话：“我们活在真实世界的概率只有十亿分之一”。对此，我还是比较赞同的，觉得我们生活在虚拟世界中是一个大概率事件。这可能是源于我的职业。作为一名IT工作者，我们可以创造很多程序，包括一些游戏。在这些游戏中，我们更像一个能够创造一切的“神”，我们可以定义角色，赋予其各种属性，比如：外貌，财富值，生命值等等。我们也可以在游戏世界中创造很多规则和事件，比如：游戏中的国家，社会，战争，甚至，某种叫做新冠的传染病。。。游戏中的玩家都有所追求，比如游戏中的财富，武力，等等，可能也想规避某些东西。。。</p><p>想象一下我们所处的世界，以及我们周边的一切。为什么一个没有生命的小小病毒，就能够重创整个世界？为什么在病毒体中的DNA能够在被感染的人体内疯狂复制自己。那这个如此精妙的DNA又是谁来创造的？为什么人类之间会有爱，亲情，嫉妒，愤怒等等复杂的感情？为什么这些感情会左右人们做出很多自己无法控制的事情？为什么人类的寿命是有限的？那么是谁设定的这个限制？为什么光速是速度的极限？难道超过了这个限制运行这个“程序/游戏”的服务器就会宕机？</p><p>有人在验证自己在梦中还是醒着的状态的时候经常会掐自己一把，如果能够感觉到疼痛，就不是在做梦。可是现在科技如此发达，虚拟现实(VR)完全可以让你感觉到痛感，愉悦感等等。</p><p>我无法解答这些问题，也无法证明/证伪我究竟是生活在一个真实世界，还是一个虚拟世界/梦境中。只是希望，无论真实还是梦境，珍惜身边的一切，体验真实/游戏中的每一刻。</p>]]></content>
    
    <summary type="html">
    
      真实 or 梦境？
    
    </summary>
    
      <category term="思考" scheme="https://www.aafeng.uk/categories/%E6%80%9D%E8%80%83/"/>
    
    
  </entry>
  
  <entry>
    <title>试用AI加持的代码增强工具Kite</title>
    <link href="https://www.aafeng.uk/kite/"/>
    <id>https://www.aafeng.uk/kite/</id>
    <published>2020-05-16T21:55:22.923Z</published>
    <updated>2020-05-16T21:55:22.923Z</updated>
    
    <content type="html"><![CDATA[<p>平时写代码主要用IntelliJ和PyCharm，基本上还算满意。最近在一个很偶然的机会看到了Kite这个代码增强工具，试用了一下VS Code+Kite，感觉还是非常好用的，可以和IntelliJ IDEA这样的付费商业软件相媲美。</p><p><img src="/images/technology/kite/kite.png" alt="Kite"></p><a id="more"></a><p>它支持的代码编辑器非常全面，包括：VS Code, IntelliJ, PyCharm, Sublime, Atom, WebStorm, Vim等。</p><p><img src="/images/technology/kite/kite2.png" alt="Kite"></p><p>就连Python之父也对其赞不绝口：</p><p><img src="/images/technology/kite/kite3.png" alt="Kite"></p><p>安装过程非常简单，首先在<a href="https://kite.com/" rel="external nofollow noopener noreferrer" target="_blank">官网</a>下载，然后运行安装程序。</p><p>安装中建议只选择你需要的插件以节省磁盘空间并提升速度：</p><p><img src="/images/technology/kite/kite4.png" alt="Kite"></p><p>对我而言，IntelliJ/PyCharm的代码补全功能已经够强大了，不需要Kite，但他们有些太臃肿。因此我只想把Kite安装到轻量级的编辑器VS Code中。</p><p><img src="/images/technology/kite/kite5.png" alt="Kite"></p><p>创建了一个Python源文件，试用一下：</p><p><img src="/images/technology/kite/kite6.png" alt="Kite"></p><p>感觉Kite的基于AI的代码补全非常好用，Kite会根据你的键盘输入自动显示相应的列表。和IntelliJ相比，毫不逊色。</p><p>还有一键调用文档的功能。</p><p><img src="/images/technology/kite/kite7.png" alt="Kite"></p><p>一旦激活后，只要把光标停留在对应的类/方法处，Kite窗口中就会显示对应的文档：</p><p><img src="/images/technology/kite/kite8.png" alt="Kite"></p><p>总而言之，Kite这个辅助编码工具还是很好用的，能够大幅度提高开发效率。有了它的陪伴，就可以更加愉快的编码了。。。</p>]]></content>
    
    <summary type="html">
    
      试用AI加持的代码增强工具Kite
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>18年投的一个ICO项目2Key终于要上交易所了</title>
    <link href="https://www.aafeng.uk/2key/"/>
    <id>https://www.aafeng.uk/2key/</id>
    <published>2020-05-14T21:05:50.119Z</published>
    <updated>2020-05-14T21:05:50.119Z</updated>
    
    <content type="html"><![CDATA[<p><strong>声明：下面只是我个人的经历分享，不作为您的投资建议。</strong></p><p>今天朋友联系我说18年一起投的一个ICO项目2Key要发币了，而且在5月19号要上交易所。我整个就懵了，2Key是什么？？？翻了翻过去的记录，似乎还真的投过这个币，现在忘的彻彻底底了。</p><p><img src="/images/blockchain/2key.jpg" alt="2Key"></p><a id="more"></a><p>当时选择投资这个ICO主要有以下几个考虑：</p><ul><li>首先，这个项目有卖点。2Key强调的是“智能链接”，可以用2Key来创建多级推荐活动。在这些活动中奖励推荐链中的每一个人。在整个活动过程中，可以实时跟踪活动是如何传播的。</li><li>其次，项目的合伙人/合作方包括：Enigma, Ledger, Metamask, Zoom (Zoom在两年前还没有和2Key合作，这应该是今年的事)等这些知名的名字，应该靠谱。</li><li>感觉团队是是实实在在的做事，比如他们专门针对系统的Bug有一套赏金系统：<a href="https://www.2key.network/bug-bounty" rel="external nofollow noopener noreferrer" target="_blank">https://www.2key.network/bug-bounty</a></li></ul><p>查看了一下项目的Github活跃度，代码更新还是比较频繁的：</p><p><img src="/images/blockchain/2key2.png" alt="2Key"></p><p>2Key现在的币价是$0.08，在5月19号要上架Bilaxy和Hotbit交易所。希望上架后币价能涨一些吧。</p><p>最后给出项目的相关信息：</p><p>代币名称：2KEY<br>发行总量：6亿<br>合约地址：0xe48972fcd82a274411c01834e2f031d4377fa2c0<br>官网：<a href="https://www.2key.network/" rel="external nofollow noopener noreferrer" target="_blank">https://www.2key.network/</a><br>源码：<a href="https://github.com/2key/contracts" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/2key/contracts</a></p>]]></content>
    
    <summary type="html">
    
      18年投的一个ICO项目2Key终于要上交易所了
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>一次将Solr数据备份和恢复的曲折经历</title>
    <link href="https://www.aafeng.uk/solr-data-restore/"/>
    <id>https://www.aafeng.uk/solr-data-restore/</id>
    <published>2020-05-14T04:57:45.000Z</published>
    <updated>2020-05-14T11:05:27.506Z</updated>
    
    <content type="html"><![CDATA[<p>最近准备开始一个新的项目。其实也不是全新的，其现有代码已经运行了5年，现在需要添加很多新的功能。在这个项目中使用了Solr，因此首先需要把其数据备份并恢复到自己的VM上来以坐测试和开发。于是一个曲折的故事就开始了。。。</p><p><img src="/images/technology/solr/solr.png" alt="Solr"></p><a id="more"></a><h2 id="Solr-7-5"><a href="#Solr-7-5" class="headerlink" title="Solr 7.5"></a>Solr 7.5</h2><p>其实我自己的VM上已经有了Solr，其版本是7.5，而服务器上的版本是7.6，想想这个两个版本差距不大，于是想直接把数据复制过来不就可以了吗？这个过程非常简单，就是把服务器上/var/solr/data目录下这个项目对应的子文件夹整个复制到本机的同样目录，并重新启动Solr就可以了。但当重新启动Solr后发现了如下错误：</p><pre><code>SolrCore Initialization Failuresxxxx: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Error opening new searcherPlease check your logs for more information</code></pre><p>检查日志文件，发现如下错误：</p><pre><code>Suppressed: org.apache.lucene.index.CorruptIndexException: checksum passed (4454119c). possibly transient resource issue, ......</code></pre><p>提示索引文件出错，首先想到的是在打包压缩和复制的过程中出现了错误，于是又走了一遍，还是同样的错误。这时觉得应该就是版本之间的兼容性问题了。确实也是，新版本支持旧版本的索引文件很好理解。但反过来，把新版本的索引文件复制到旧版本上去，不被支持就很好理解了。</p><h2 id="最新的Solr-8-5-1"><a href="#最新的Solr-8-5-1" class="headerlink" title="最新的Solr 8.5.1"></a>最新的Solr 8.5.1</h2><p>那好吧，索性就使用最新的版本8.5.1吧，这样所有的问题不就都解决了吗？其安装过程也非常简单，下载tgz文件，解压，再运行install_solr_service.sh就可以了。</p><p>但安装完毕后却出现了新的问题：</p><pre><code>xxxx: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load conf for core xxxx: Can&apos;t load schema /var/solr/data/xxxx/conf/schema.xml: Plugin init failure for [schema.xml] fieldType &quot;textSuggest&quot;: Plugin init failure for [schema.xml] analyzer/filter: Error loading class &apos;solr.StandardFilterFactory&apos;Please check your logs for more information</code></pre><p>原来是StandardFilterFactory在Solr 8中不能正常工作。找到了项目中的schema.xml，把相应的行注释掉，重新启动Solr，貌似问题解决了。但感觉并不是很满意，毕竟需要对配置做修改才能正常工作，而且不知道是否会对其他部分产生负面影响。</p><h2 id="Solr-7-7-3"><a href="#Solr-7-7-3" class="headerlink" title="Solr 7.7.3"></a>Solr 7.7.3</h2><p>最终决定尝试一下Solr 7.x中的最终版本7.7.3。整个安装步骤非常简单，下载并解压后运行：</p><pre><code>./install_solr_service.sh ../../solr-7.7.3.tgz -f</code></pre><p>但在启动过程中会发现如下错误：</p><p><img src="/images/technology/solr/solr2.png" alt="Solr"></p><p>这个问题倒是好解决，编辑文件/etc/security/limits.conf，添加：</p><pre><code>solr hard nofile 65535solr soft nofile 65535solr hard nproc 65535solr soft nproc 65535</code></pre><p>重新启动Solr</p><pre><code>sudo systemctl restart solr</code></pre><p>终于能够正常工作了，没有任何错误提示。</p><h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>在Solr数据备份/恢复的时候一定要注意各个版本之间的差异。虽然不断保持软件的最新版本是一个好习惯，但在生产环境中，还是要慎之又慎，尽量选用兼容性最好前提下的最新版本。 </p>]]></content>
    
    <summary type="html">
    
      一次将Solr数据备份和恢复的曲折经历
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>比特币减半了，可你的信仰还在吗？</title>
    <link href="https://www.aafeng.uk/btc-halving/"/>
    <id>https://www.aafeng.uk/btc-halving/</id>
    <published>2020-05-13T22:16:33.873Z</published>
    <updated>2020-05-13T22:16:33.873Z</updated>
    
    <content type="html"><![CDATA[<p>比特币已经如期在区块高度630000处完成了第三次减半，随之而来的是挖矿难度增大，加上各种丢失密钥的情况时有发生，比特币应该是越来越稀缺，越来越值钱才对。但让众多持币者失望的是，比特币并没有迎来大家期待的暴涨。</p><p><img src="/images/blockchain/btc.jpg" alt="比特币"></p><a id="more"></a><p>记不清在哪里看到有人做过统计，比特币的最大持有者已经由早期的矿工慢慢变成了大的虚拟货币交易所。交易所在每一笔交易中收取交易费。伴随着比特币的减半，更加加剧了这种趋势，让最大的几家交易所越做越大。那么交易所有动力让币价一直暴涨吗？似乎有，但动力不足。因为交易所有着更为赚钱的手段：合约。</p><p>其实看看周围的朋友熟人，无论是新老韭菜，还是一些大佬，似乎没在合约市场爆过仓都不好意思说自己是玩币一族。但看看那些惊心触目的数据就可以知道，在合约市场上，用暴利来形容庄家的赚钱速度似乎都嫌不够。交易所则更像是一个大赌场，它自己不仅是玩家，更是庄家，同时每一笔交易还收取手续费。有这么赚钱的方式，干嘛着急把比特币的价格拉高，让比特币的价格不断震荡，多空双爆，多香！只要不把比特币玩死，就足够了。</p><p>其实在2013年的时候，就有朋友向我推销比特币，但很遗憾的是，我没有被朋友洗脑，和比特币就那么华丽丽的错过了。现在不能想，不然错过了着几个亿，大腿都要拍断了。。。</p><p>后来到了2017年的时候再次接触比特币，可能也有些FOMO的心理吧，成了坚定的持币一族。近两万美元的比特币见过，3000多美元的比特币也见过。但自从买了硬件钱包后，因为嫌麻烦，只往钱包里存过两次，再也没有碰过钱包。现在想想，反正投入的也不多，就接着放着吧。</p><p>你的信仰还在吗？</p>]]></content>
    
    <summary type="html">
    
      比特币减半了，可你的信仰还在吗？
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
  </entry>
  
  <entry>
    <title>如何安装/配置一个Likecoin Validator节点</title>
    <link href="https://www.aafeng.uk/likecoin-validator/"/>
    <id>https://www.aafeng.uk/likecoin-validator/</id>
    <published>2020-05-11T06:21:35.053Z</published>
    <updated>2020-05-11T06:21:35.053Z</updated>
    
    <content type="html"><![CDATA[<p>最近尝试了一下配置/运行Likecoin Validator节点，下面把步骤总结一下。整个步骤是基于<a href="https://docs.like.co/developer/likecoin-chain-node/setup-mainnet-node" rel="external nofollow noopener noreferrer" target="_blank">Likecoin官方文档</a>的。下面只是把我如何运行Validator节点的步骤记录下来，按照这个步骤进行完毕，应该就能运行一个Inactive Validator节点了。至于如何成为Active Validator，由于我并没有走到那一步，因此不做讨论。</p><a id="more"></a><h2 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h2><pre><code>sudo apt updatesudo apt install apt-transport-https ca-certificates curl software-properties-commoncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable&quot;sudo apt updateapt-cache policy docker-cesudo apt install docker-cesudo systemctl status dockersudo usermod -aG docker ${USER}</code></pre><p>之后重新登录一下。</p><h2 id="安装docker-compose"><a href="#安装docker-compose" class="headerlink" title="安装docker compose"></a>安装docker compose</h2><pre><code>sudo curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-composesudo chmod +x /usr/local/bin/docker-compose</code></pre><h2 id="安装并配置Likecoin"><a href="#安装并配置Likecoin" class="headerlink" title="安装并配置Likecoin"></a>安装并配置Likecoin</h2><pre><code>git clone https://github.com/likecoin/likecoin-chain --branch sheungwan --single-branchcd likecoin-chain./scripts/build.sh</code></pre><p>从<a href="https://docs.like.co/developer/likecoin-chain-node/setup-mainnet-node" rel="external nofollow noopener noreferrer" target="_blank">官方Github页面</a>找到genesis.json的相应链接，下载genesis.json并保存至likecoin-chain目录。</p><p>运行：</p><pre><code>./scripts/init.sh 你节点的名字 genesis.json 913bd0f4bea4ef512ffba39ab90eae84c1420862@34.82.131.35:26656docker-compose up -d    </code></pre><p>这是你就会看到有很多后台进程在同步数据。 在我的VM(位于德国的VPS, 4核，8GB RAM, 200G SSD)上，整个数据同步过程共花费了24个小时左右。</p><p><img src="/images/blockchain/liker/validator.png" alt="Likecoin Validator节点"></p><p>在同步过程中，你可以通过以下网址查看同步的状态：</p><pre><code>http://你的IP地址:26657/status</code></pre><p>数据同步结束后，其状态信息中的“catching_up”就会变为”false”。</p><pre><code>&quot;sync_info&quot;: {  &quot;latest_block_hash&quot;: &quot;E6E05948B40D3FD4BE895527D3F95000FC617B61F2A12B1AE13855BF4CE71F5F&quot;,  &quot;latest_app_hash&quot;: &quot;A79011D8A41E4795E0C530B0AB88D8BE6ABA44648D166D89335B8D3BBF55CCF6&quot;,  &quot;latest_block_height&quot;: &quot;2681538&quot;,  &quot;latest_block_time&quot;: &quot;2020-05-03T21:21:39.335206851Z&quot;,  &quot;catching_up&quot;: false},</code></pre><p>至此，Likecoin的节点应该就能正常运行了，但要成为激活的(Active)节点，应该还需要进行进一步的设置，由于我并没有运行激活的节点，这里先不做讨论。</p>]]></content>
    
    <summary type="html">
    
      如何安装/配置一个Likecoin Validator节点
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Likecoin" scheme="https://www.aafeng.uk/tags/Likecoin/"/>
    
  </entry>
  
  <entry>
    <title>第一次在家烧烤</title>
    <link href="https://www.aafeng.uk/bbq/"/>
    <id>https://www.aafeng.uk/bbq/</id>
    <published>2020-05-10T19:41:15.372Z</published>
    <updated>2020-05-10T19:41:15.372Z</updated>
    
    <content type="html"><![CDATA[<p>家里的烤炉已经买了好几年了，但一直没有拆开包装。最近几天天气出奇的好，同时因为lockdown已经没有任何social活动了，于是决定趁着现在有时间尝试在家烧烤一次。</p><p><img src="/images/food/bbq1.jpg" alt="烧烤"></p><a id="more"></a><p>整体而言还是很成功的，上面是一张成品图。</p><p>首先把烤炉从车库中翻了出来，花了两个多小时进行组装：</p><p><img src="/images/food/bbq2.jpg" alt="烧烤"></p><p>终于装好了：</p><p><img src="/images/food/bbq3.jpg" alt="烧烤"></p><p>在超市买的易燃炭，非常方便，只需要把外面的油纸点着就好，过一小会火就会烧的很旺。只不过需要注意的是，有浓烟和大火苗的时候是不能食材放上去的，否则食材很容易被烤糊。</p><p>主要烤的是五花肉串和羊肉串，这两种串是事先腌制好的。在网上找的食谱。羊肉串只用洋葱和蛋清腌制，五花肉串用食盐，料酒，洋葱，鸡蛋腌制。总共腌制了大约4个小时。</p><p>过了一会，炭已经烧好，没有什么烟了，可以开始烤了！</p><p><img src="/images/food/bbq4.jpg" alt="烧烤"></p><p>很快就烤好了，开吃！</p><p><img src="/images/food/bbq1.jpg" alt="烧烤"></p>]]></content>
    
    <summary type="html">
    
      第一次在家烧烤
    
    </summary>
    
      <category term="美食" scheme="https://www.aafeng.uk/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>周末家庭影院 - The BFG</title>
    <link href="https://www.aafeng.uk/the-bfg/"/>
    <id>https://www.aafeng.uk/the-bfg/</id>
    <published>2020-05-09T22:53:22.077Z</published>
    <updated>2020-05-09T22:53:22.077Z</updated>
    
    <content type="html"><![CDATA[<p>这个周末全家一起观看了2016年出品的电影《The BFG》(The Big Friendly Giant)。这个影片是根据Roald Dahl的同名小说改编的。选择这个电影的原因很简单，同名小说是女儿最喜欢的小说之一。</p><a id="more"></a><p>影片中讲述的是小女孩Sophie由于在晚上无法入睡，碰巧看到的巨人BFG被BFG捉回了巨人国。只不过幸运的是，捉她的巨人在巨人国中是一个另类的巨人。和别的吃人的巨人不一样，这个巨人只吃自己种植的植物。同时，这个巨人还有一项重要的任务，就是去寻找不同的梦，并把梦装到一个个的玻璃瓶中，再一个个的送到小朋友们的梦境中。</p><p>为了阻止巨人们继续吃人，Sophie和这个好巨人一起合作，打算制作一个关于巨人吃小孩的噩梦，并把这个梦送到女王的梦境中以获取女王的帮助。最终在女王的帮助下，Sophie战胜了那些恶巨人，让他们不能再作恶。</p><p>正所谓一千个读者的心中就会有一千个版本的哈姆雷特一样。和上周看过的《The Fantastic Mr Fox》相比，这部电影似乎有些”成人不宜“，整部影片似乎更适合小朋友们看。虽然最终是个皆大欢喜的Happy ending，但整部电影略显平淡，让人能够记住的瞬间似乎没有。</p><p>对我而言，整部电影虽然略显平淡，但其中对Sophoie稚嫩心灵的刻画可以说是入目三分。同时整部电影的正能量满满，尤其是善良的BFG一步步帮助Sophie解开心结，让她的梦境成真，还是很暖心的。</p>]]></content>
    
    <summary type="html">
    
      周末家庭影院 - The BFG
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>使用forwardemail.net为自己域名配置免费邮件服务</title>
    <link href="https://www.aafeng.uk/forwardemail/"/>
    <id>https://www.aafeng.uk/forwardemail/</id>
    <published>2020-05-08T07:19:26.259Z</published>
    <updated>2020-05-07T20:59:34.520Z</updated>
    
    <content type="html"><![CDATA[<p>在购买自己的域名后，肯定想要设置自己域名下的邮箱。下面介绍一下如何通过forwardemail这个网站的服务+gmail来实现如何接收和发送自己域名下的邮件。</p><a id="more"></a><h2 id="设定邮件转发"><a href="#设定邮件转发" class="headerlink" title="设定邮件转发"></a>设定邮件转发</h2><p>首先打开 <a href="https://forwardemail.net/" rel="external nofollow noopener noreferrer" target="_blank">https://forwardemail.net/</a> ，通过Google或Github账号登录。登录成功后可以看到如下界面：</p><p><img src="/images/technology/forwardmail/01.png" alt="forwardemail"></p><p>添加自己的域名：</p><p><img src="/images/technology/forwardmail/02.png" alt="forwardemail"></p><p>目前提示尚未通过验证：</p><p><img src="/images/technology/forwardmail/03.png" alt="forwardemail"></p><p>设置域名以做邮件转发：</p><p><img src="/images/technology/forwardmail/04.png" alt="forwardemail"></p><p>我是在Cloudflare中配置的MX和TXT记录：</p><p><img src="/images/technology/forwardmail/05.png" alt="forwardemail"></p><p>整个过程需要等待一段时间，通过验证之后看到的界面是这样的：</p><p><img src="/images/technology/forwardmail/06.png" alt="forwardemail"></p><p>至此，所有发送到 <a href="mailto:XXXX@aafeng.uk" rel="external nofollow noopener noreferrer" target="_blank">XXXX@aafeng.uk</a> 的邮件都会被转发到你所指定的邮箱中。</p><h2 id="第二步：通过gmail发送以自己域名为后缀邮箱的邮件"><a href="#第二步：通过gmail发送以自己域名为后缀邮箱的邮件" class="headerlink" title="第二步：通过gmail发送以自己域名为后缀邮箱的邮件"></a>第二步：通过gmail发送以自己域名为后缀邮箱的邮件</h2><p><img src="/images/technology/forwardmail/07.png" alt="forwardemail"></p><p>首先需要激活Google账号的二元验证。如未激活，在如下页面中激活：</p><p><a href="https://www.google.com/landing/2step/" rel="external nofollow noopener noreferrer" target="_blank">https://www.google.com/landing/2step/</a></p><p>访问页面：<a href="https://www.google.com/landing/2step/" rel="external nofollow noopener noreferrer" target="_blank">https://www.google.com/landing/2step/</a></p><p>在App列表框中选择“Mail”，在“Device”中选择“Other”，然后输入你的邮箱。单击“Generate”，生成App的密码：</p><p><img src="/images/technology/forwardmail/08.png" alt="forwardemail"></p><p>记录下这个密码。</p><p>打开Gmail设置页面，选择“Accounts and Import” =&gt; “Send mail as”, 单击”Add another email address”</p><p>添加自己域名下的邮箱，注意取消选中“Treat as alias”：</p><p><img src="/images/technology/forwardmail/09.png" alt="forwardemail"></p><p>在下一步中输入你Gmail的用户名（不含@gmail.com)，以及前面记录下的Google app的密码：</p><p><img src="/images/technology/forwardmail/10.png" alt="forwardemail"></p><p>输入发送到你邮箱中的验证码后，单击”Verify“，至此设置完毕。可以看到能够在Gmail中通过自己域名下的邮箱来发送邮件了。</p>]]></content>
    
    <summary type="html">
    
      使用forwardemail.net为自己域名配置免费邮件服务
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>宅家日久，体重渐增，压力渐大</title>
    <link href="https://www.aafeng.uk/20200506/"/>
    <id>https://www.aafeng.uk/20200506/</id>
    <published>2020-05-07T07:38:23.145Z</published>
    <updated>2020-05-07T07:38:23.145Z</updated>
    
    <content type="html"><![CDATA[<p>真的很奇怪，在英国往年似乎很少长时间有艳阳高照的天气，但自从开始宅在家中后，晴空万里的好天气似乎接连不断。仿佛在诱惑人们不要宅在家中。算一算，离上次全家出门散步似乎已经两周多了，于是今天决定出门去放放风。</p><p><img src="/images/life/2020-05-06.jpg" alt></p><p>家附近的小山丘，摄于2020.5</p><a id="more"></a><p>外面已经是初夏的感觉了，路边的盛开的花似乎已经换了一茬，水仙已经陆陆续续的凋谢，换上了各种颜色更为鲜艳的花。偶遇三三两两的路人都是一身短装，完全是夏天的装束了。在往年赶上这样的天气，周边的海滩一定又是人满为患了。</p><p>我们走的并不是很远，只是在家附近的小山丘上去走了走，路上遇到了好几拨孩子学校的同学，看来大家都不想宅在家中了。在和其他家长的闲聊中感觉到大家似乎面临了同样的问题：由于一日三餐都在家中，购买食物的开支都明显上涨，伴随的是大家的体重似乎也都在缓慢的增加。很多人宅在家中，总要给自己找点事情做，于是一大批美食博主变得非常火爆，我媳妇最近迷上了Youtube上一个叫做小高姐的美食博主，开始按照菜谱做了很多美食，面对这么多诱惑，我几乎不做思考的选择了接受。。。</p><p>家长们面临的压力日渐增加，想要工作和辅导孩子功课两不误，很多家长只能在孩子入睡后再加班，把白天亏欠的时间补回来。但这样长久下去家长们的压力会变得过大。在网上看到了一段话，应该能够反映出家长们的心声：</p><blockquote><p>It’s OK if your child<br>is tearful<br>keeps throwing tantrums<br>won’t do their schoolwork<br>wants to go back to school<br>can’t focus on home learning<br>won’t do what you ask<br>picks fights with siblings<br>is struggling to sleep<br>spends hours on screens<br>keeps answering back<br>is always bored</p></blockquote>]]></content>
    
    <summary type="html">
    
      宅家日久，体重渐增，压力渐大
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="疫情" scheme="https://www.aafeng.uk/tags/%E7%96%AB%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>试用Hive-js</title>
    <link href="https://www.aafeng.uk/hive-js/"/>
    <id>https://www.aafeng.uk/hive-js/</id>
    <published>2020-05-06T08:23:59.834Z</published>
    <updated>2020-05-06T08:23:59.834Z</updated>
    
    <content type="html"><![CDATA[<p>最近Hive更新了hive-js这个库，在阅读这这篇<a href="/hive-139531/@mahdiyari/hive-js-and-hive-tx-migration-to-hive-breaking-changes-for-browsers">英文文章</a>文章后，把要点概括一下：</p><ul><li>使用steem-js的应用应切换到hive-js上，在下一个HF后极有可能steem-js无法正常在Hive上工作。</li><li>增加了节点的自动切换功能(alternative_api_endpoints)，如果一个节点出现问题，会自动切换到下一个节点。</li></ul><a id="more"></a><p><img src="/images/blockchain/hive/hive-js.jpg" alt="hive-js"></p><p>下面进行了一个简单的测试。</p><p>首先创建test.js:</p><pre><code>&quot;use strict&quot;const hive  = require(&apos;@hiveio/hive-js&apos;);// Read posts from Hivehive.api.getDiscussionsByCreated({tag: &apos;hive&apos;, limit: 10}, function(err, discussions) {  for(var i = 0; i &lt; discussions.length; i++) {    let post = discussions[i]    console.log(post.title)  }})</code></pre><p>运行如下命令安装hive-js：</p><pre><code>npm install @hiveio/hive-js --save</code></pre><p>之后运行：</p><pre><code>node test.js</code></pre><p>可以看到程序能够正常运行，但似乎还有一些hive-js的调试信息。相信开发者很快就会更新的。</p><p><img src="/images/blockchain/hive/hive-js2.jpg" alt="hive-js"></p><p>整体而言，感觉把现有使用steem-js的程序改成hive-js的工作量不大，建议使用steem-js早做迁移，避免某一天程序突然不干活了。</p><p>Hive-js源码：<a href="https://gitlab.syncad.com/hive/hive-js" rel="external nofollow noopener noreferrer" target="_blank">https://gitlab.syncad.com/hive/hive-js</a></p><p>更多关于Hive-js的讨论请参考这篇<a href="/hive-139531/@mahdiyari/hive-js-and-hive-tx-migration-to-hive-breaking-changes-for-browsers">英文文章</a>。</p>]]></content>
    
    <summary type="html">
    
      试用Hive-js
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Hive" scheme="https://www.aafeng.uk/tags/Hive/"/>
    
  </entry>
  
  <entry>
    <title>Thinkpad笔记本维修记</title>
    <link href="https://www.aafeng.uk/thinkpad-sleep/"/>
    <id>https://www.aafeng.uk/thinkpad-sleep/</id>
    <published>2020-05-05T20:25:36.892Z</published>
    <updated>2020-05-05T20:25:36.892Z</updated>
    
    <content type="html"><![CDATA[<p>今天早上打开笔记本电脑，准备开始干活。忽然发现按下电源开关后，电脑完全没有反应，黑屏。而电源开关的指示灯一直在闪。无论怎么按电源开关都没有反应。</p><a id="more"></a><p>首先想到的就是电脑休眠了，需要唤醒。于是想起了一招，长按电源键5秒钟就可以强制其关机，然后再重新开机就应该能正常启动系统了。可是按了5秒，10秒，15秒，30秒，都没有任何反应？？？</p><p>既然这样都不管用，那就只能硬上了 - 直接拔掉电池。可是把电脑翻过来一看，由于当初选择的是T480s超薄版的，电池不像一般笔记本电脑那样在外面可以直接拆掉。于是找来工具，把电脑后盖打开，电池取下来几秒钟，再放了回去，顺便把内部除了除尘。终于可以正常开机了。</p><p><img src="/images/technology/thinkpad.jpg" alt="Thinkpad笔记本"></p><p>回想一下，头一天晚上结束时的操作和平时一样，选择了休眠，而没有关机。但这个笔记本已经用了一年多了，每天的操作都一样，一直没有问题。在网上查了一下也没有找到答案。看来以后每天不用电脑时还是老老实实的关机吧。</p>]]></content>
    
    <summary type="html">
    
      Thinkpad笔记本维修记
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>使用AWS Lambda中的层(Layer)解决依赖库的问题</title>
    <link href="https://www.aafeng.uk/lambda-layer/"/>
    <id>https://www.aafeng.uk/lambda-layer/</id>
    <published>2020-05-04T20:21:55.453Z</published>
    <updated>2020-05-04T14:18:01.729Z</updated>
    
    <content type="html"><![CDATA[<p>在前面分享了如何<a href="/serverless-requirements/">使用Serverless Requirements在AWS无服务器架构中配置Python依赖库</a>，但这种做法的缺点就是在每个Lamda项目中都需要配置依赖库。这样每次生成的Lambda都包含了对应的依赖库，因此文件会很大。在每次部署的时候耗时更长，同时占用很多S3存储资源，可以说既费时又费钱。同样，这种方法的重用性非常差，因此我们希望通过一种可以重用的方式，只将依赖库保存一份，每当在需要时引用一下就可以了。这就是下面要介绍的AWS Lambda中的层(Layer)。</p><p><img src="/images/technology/aws/layer.jpg" alt="AWS Lambda Layer"></p><a id="more"></a><p>层的使用就类似于在各种编程语言中使用程序库一样，只需引用就可以在不同程序中使用共享的程序库，而无需将程序库部署到Lambda中。使用Lambda中的的层有以下优点：</p><ul><li>这种依赖库是可以在不同的Lambda中共享的。这样在每次使用这些常用的依赖库时只需在Lambda中添加对这个层的引用就可以了。这样就可以节省费用，提高开发速度。</li><li>通过这种方式可以有效减少Lambda函数的大小，从而可以在Lambda控制台中直接调试代码。</li><li>Lambda中的层支持Python, Node.js, Ruby等主流开发语言。</li><li>可以在不同AWS账号之间共享层。</li></ul><p>下面以一个非常简单的Lambda来说明如何使用层来进行开发：</p><p>首先，创建一个非常简单的Lambda，这里我们不用Serverless框架，直接在Lambda控制台中创建如下的Lambda函数：</p><pre><code>import jsonimport xmltodictdef lambda_handler(event, context):    xml=&apos;&apos;&apos;&lt;user&gt;        &lt;name&gt;aafeng&lt;/name&gt;        &lt;url&gt;https://www.aafeng.uk&lt;/url&gt;    &lt;/user&gt;&apos;&apos;&apos;    return {        &quot;statusCode&quot;: 200,        &quot;user&quot;: json.dumps(xmltodict.parse(xml))    }</code></pre><p>很显然，由于找不到xmltodict这个依赖库，这个Lambda函数无法正常运行：</p><p><img src="/images/technology/aws/layer2.png" alt="AWS Lambda Layer"></p><p>下面我们就将xmltodict打包并创建一个层，并在Lambda中添加对这个层的引用来解决上面的这个问题。</p><p>运行如下命令创建一个包含xmltodict依赖库的zip文件：</p><pre><code>mkdir -p layer/pythoncd layerpip3 install xmltodict -t pythonzip -r ../xmltodict.zip .</code></pre><p>然后可以看到生成了xmltodict.zip这个文件。</p><p>在AWS中通过上传刚生成的xmltodict.zip来创建一个层。记录下这个层的id: arn:aws:lambda:eu-west-1:xxxxxxxxxxxxxx:layer:xmltodict:1</p><p>回到AWS Lambda控制台，单击“Add Layer”，将刚创建的层添加后再次运行这个Lambda函数，可以看到已经没有问题了。</p><p><img src="/images/technology/aws/layer3.png" alt="AWS Lambda Layer"></p><p>从层的执行机制上来说，其实在Lambda运行时，层会被提取到/opt目录，Lambda的运行时会在该目录下查找对应的库。</p><p>但使用层的时候也是有限制的。比如：每个Lambda中最多使用5个层，Lambda+各个使用到的层的总大小不能超过250MB。但对于一般引用来说是足够了。如果超出这个大小，说明你的Lambda需要再进行拆分。</p>]]></content>
    
    <summary type="html">
    
      使用AWS Lambda中的层(Layer)解决依赖库的问题
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="AWS" scheme="https://www.aafeng.uk/tags/AWS/"/>
    
  </entry>
  
  <entry>
    <title>《Fantastic Mr Fox》- 致那些童心尚存的成年人</title>
    <link href="https://www.aafeng.uk/fantastic-mr-fox/"/>
    <id>https://www.aafeng.uk/fantastic-mr-fox/</id>
    <published>2020-05-02T20:48:00.000Z</published>
    <updated>2020-05-17T10:37:20.995Z</updated>
    
    <content type="html"><![CDATA[<p>疫情期间所有的活动都取消了。不过也有好处，就是一家人在一起的时间多了很多。没有了和朋友们的聚会，孩子们的各种Party，宅在家中总要组织些活动吧。每周末一家人一起看一场电影就成了我们宅家期间的一个习惯。</p><a id="more"></a><p>我们选择的影片一般都是在豆瓣上影评分数比较高的，适合全家看的电影。或者是因为孩子们读过对应的图书，非常喜欢书中的故事。今晚选择的就是2009年由福克斯出品的《Fantastic Mr Fox》。这部电影在Youtube上需要付费才能看到。还好我们付年费订了Amazon Prime会员。其会员包括了很多免费的正版电影。</p><p>故事情节还是有一些刺激的。影片开头就是狐狸先生和狐狸太太在农场偷鸡时的场景。狐狸先生得知狐狸太太怀孕，于是承诺两人逃脱后不再偷东西。但两年后狐狸先生购买了三个农场主附近的树屋，同时由于内心中不甘于平凡生活的冲动，背着狐狸太太再次去农场行窃，从而引发了农场主们对狐狸一家的围剿。。。</p><p>尽管狐狸先生一直在干着偷鸡摸狗的勾当，但作为一只狐狸，这才是它应该做的事情吧。因此，我从这部影片中还是能看到其《不忘初心》的正能量的。狐狸先生人到中年，有了众多的责任和羁绊，压抑了内心中的真我，它不断寻找自我的过程正是其吸引人之处。影片最后当狐狸先生看到了狼眼中的野性时，泪水禁不住流了下来，是那种为成年人生活中的无可奈何而流下的泪水。而狐狸先生和狼的道别，何尝不是和自己的梦想在道别？</p>]]></content>
    
    <summary type="html">
    
      《Fantastic Mr Fox》- 致那些童心尚存的成年人
    
    </summary>
    
      <category term="思考" scheme="https://www.aafeng.uk/categories/%E6%80%9D%E8%80%83/"/>
    
    
      <category term="电影" scheme="https://www.aafeng.uk/tags/%E7%94%B5%E5%BD%B1/"/>
    
  </entry>
  
  <entry>
    <title>如何使用Bigdipper查看Likecoin区块链中的交易</title>
    <link href="https://www.aafeng.uk/likecoin-bigdipper/"/>
    <id>https://www.aafeng.uk/likecoin-bigdipper/</id>
    <published>2020-05-02T18:48:00.000Z</published>
    <updated>2020-05-02T20:09:29.748Z</updated>
    
    <content type="html"><![CDATA[<p>在Likecoin区块链中，绝大多数用户接触的是其前端，比如：Matters，Steem.buzz等。但前端发生的行为，比如赞赏，都是由底层区块链来支撑的。下面介绍一下<a href="https://likecoin.bigdipper.live/" rel="external nofollow noopener noreferrer" target="_blank">Bigdipper/北斗</a>这个网站，在其中可以查看各种Likecoin的交易信息。</p><a id="more"></a><h2 id="什么是Likecoin-bigdipper"><a href="#什么是Likecoin-bigdipper" class="headerlink" title="什么是Likecoin bigdipper"></a>什么是Likecoin bigdipper</h2><p><a href="https://likecoin.bigdipper.live/" rel="external nofollow noopener noreferrer" target="_blank">Likecoin bigdipper/北斗</a>是由<a href="https://www.forbole.com/cosmos-hub-validator/" rel="external nofollow noopener noreferrer" target="_blank">Forbole</a>开发的开源Likecoin区块链浏览器，在上面可以查看Likecoin上的各种交易数据。登录bigdipper后可以看到Likecoin区块链的当前信息：</p><p><img src="/images/blockchain/liker/bigdipper-1.png" alt="Bigdipper"></p><p>其源代码在这里：<a href="https://github.com/forbole/big-dipper" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/forbole/big-dipper</a></p><h2 id="在bigdipper上查看Validators"><a href="#在bigdipper上查看Validators" class="headerlink" title="在bigdipper上查看Validators"></a>在bigdipper上查看Validators</h2><p>首先可以查看Likecoin网络上验证人的信息。这些验证人的作用就是维护Likecoin网络的正常运行，保证网络上交易的安全性。</p><p><img src="/images/blockchain/liker/bigdipper-2.png" alt="Bigdipper"></p><p>在上图中可以看到当前激活的10个Validator。</p><h2 id="在bigdipper上查看区块信息"><a href="#在bigdipper上查看区块信息" class="headerlink" title="在bigdipper上查看区块信息"></a>在bigdipper上查看区块信息</h2><p>还可以在bigdipper查看Likecoin的区块信息，比如：最新区块的出块时间，哈希值，区块高度，出块人，块中包含的交易数等。</p><p><img src="/images/blockchain/liker/bigdipper-3.png" alt="Bigdipper"></p><h2 id="在bigdipper中查看区块链中的交易信息"><a href="#在bigdipper中查看区块链中的交易信息" class="headerlink" title="在bigdipper中查看区块链中的交易信息"></a>在bigdipper中查看区块链中的交易信息</h2><p>在bigdipper中查看Likecoin交易中的各种信息，包括：交易往来的账号，交易所在区块的高度，是否已被验证，交易哈希值等。</p><p><img src="/images/blockchain/liker/bigdipper-4.png" alt="Bigdipper"></p>]]></content>
    
    <summary type="html">
    
      如何使用Bigdipper查看Likecoin区块链中的交易
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Likecoin" scheme="https://www.aafeng.uk/tags/Likecoin/"/>
    
  </entry>
  
</feed>
