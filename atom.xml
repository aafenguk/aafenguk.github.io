<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>aafeng</title>
  <icon>https://www.gravatar.com/avatar/a176a52d9d4ac7d9f90a5204a7d87bcd</icon>
  <subtitle>aafeng&#39;s blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.aafeng.uk/"/>
  <updated>2020-06-13T22:19:51.516Z</updated>
  <id>https://www.aafeng.uk/</id>
  
  <author>
    <name>aafeng</name>
    <email>aafenguk@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>好评 - 在线美术培训</title>
    <link href="https://www.aafeng.uk/online-drawing-class/"/>
    <id>https://www.aafeng.uk/online-drawing-class/</id>
    <published>2020-06-13T22:19:51.516Z</published>
    <updated>2020-06-13T22:19:51.516Z</updated>
    
    <content type="html"><![CDATA[<p>疫情期间，由于全天候在家，除了正常的功课之外，给孩子们报了一个在线美术课。迄今为止虽然学习的时间不长，但已经取得了不小的进步。整体感觉非常好。除此之外，还有在线钢琴课，小提琴课，中文课，唱歌课等等。感觉似乎今后的学习方式将会从线下向线上发生彻底的改变。</p><a id="more"></a><p>在报班之前也做了简单的调研。国内类似的培训机构非常多，而且很多家都号称有上亿的融资，还有雷军，徐小平等大咖支持，似乎感觉都不错。最终选择的品牌是经朋友推荐后报名的。</p><p>这个课程的好处还是很多的，可以培养孩子的审美观，色彩敏感度，开发孩子的想象力，观察能力和动手能力等。在上课过程中，每个孩子搭配一个班主任，还有一个教学管理老师，似乎能够弥补在线教学的不足，整体的学习效果还是很好的。</p><p>上几幅孩子的画作：</p><p><img src="/images/kids/painting/1.jpg" alt></p><p><img src="/images/kids/painting/2.jpg" alt></p><p><img src="/images/kids/painting/3.jpg" alt></p><p>这次的疫情迫使人们对很多行业的工作模式进行了深入的思考和实践。就拿美术课来说吧。以前根本没有考虑过线上的课程。但如果只选择线下课程，那么师资的选择范围就非常有限。由于我们这样生活的城市非常小，因此选择范围就更为小，往往特别好的老师太忙，想要报班的话，需要排很长的队。而现在改为线上课程，可以选择的老师不仅多，而且都是美院的专业人士。现在觉得等到疫情过去，似乎还是更倾向于线上培训课程。</p>]]></content>
    
    <summary type="html">
    
      好评 - 在线美术培训
    
    </summary>
    
      <category term="育儿" scheme="https://www.aafeng.uk/categories/%E8%82%B2%E5%84%BF/"/>
    
    
  </entry>
  
  <entry>
    <title>Web Accessibility的重要性</title>
    <link href="https://www.aafeng.uk/web-accessibility/"/>
    <id>https://www.aafeng.uk/web-accessibility/</id>
    <published>2020-06-12T20:41:41.645Z</published>
    <updated>2020-06-12T20:41:41.645Z</updated>
    
    <content type="html"><![CDATA[<p>其实以前在做项目的时候或多或少的接触了一些Web Accessibility（Web无障碍访问）的标准，但并没有留意其重要性。最近在一个项目中才真正意识到了在一个Web项目中，Accessibility是如此重要。如果不符合Web Accessibility的标准，可能会对有些用户造成极大的不便。</p><p><img src="/images/technology/web-accessibility.jpg" alt="Web Accessibility"><br>图源：w3.org</p><a id="more"></a><p>事情起源是这样的：按照用户要求，实现了一个对用户数据的统计功能，并以在Web页面中以饼图，柱状图等图形化的方式展示统计好的数据。在实现了该功能以后，发给了客户寻求反馈意见。结果用户的意见是：“我根本看不清你做的柱状图，能否调整配色方案？”。嗯，这是怎么回事？在我这里明明是很清楚的啊？于是要求客户发了一个截屏过来，和我在本机看到的是一样啊。突然意识到了，每个人的视力，对颜色的敏感度都不一样。在我这里很清楚，并不代表在别人眼中看到的也很清楚啊！于是按照相应的标准更改了配色，客户终于满意了。</p><p>记得互联网的发明人Tim Berners-Lee曾经说过一句很经典的话：</p><blockquote><p>The power of the Web is in its universality. Access by everyone regardless of disability is an essential aspect.</p></blockquote><p>简单翻译一下：Web的力量在于其普遍性。其基本要素在于：每个人无论残疾与否都能够访问它。</p><p>再来看看Web Accessibility的官方定义：</p><blockquote><p>Web Accessibility（Web无障碍访问）旨在使得行动不便或者残障人士能够使用Web，即可以在Web上获取信息、理解信息、查找信息，以及网络交互。通常情况下，仅仅是确保每个网页的所有内容都有对应的文本（Text）信息，以及所有的交互都可以通过键盘来完成，就可以实现Web的无障碍访问。无障碍访问可以体现在一个单独的规范（例如WAI-ARIA）、指南（例如WCAG），或者某个规范中的一个部分（例如HTML5）。</p></blockquote><p>在设计一个Web应用的时候，应该充分采用适当的设计和编码，使得残疾人或者有各种障碍的人也可以访问该应用。在英国就有近1400万【<a href="https://www.scope.org.uk/media/disability-facts-figures/" rel="external nofollow noopener noreferrer" target="_blank">数据来源</a>】的残疾人士，约为英国总人口的22%。因此，在设计Web应用的时候，绝对不能忽视这么大的一个群体。在美国，可以<a href="https://www.disabilityscoop.com/2019/10/08/supreme-court-allows-sue-web-accessibility/27269/" rel="external nofollow noopener noreferrer" target="_blank">起诉不遵循Web Accessibility规范的零售商</a>。在欧盟也有相应的<a href="https://europa.eu/european-union/abouteuropa/accessibility_en" rel="external nofollow noopener noreferrer" target="_blank">规定</a>。</p><p>在实现Web Accessibility时，可以参考W3C的<a href="https://www.w3.org/WAI/WCAG21/Understanding/intro#understanding-the-four-principles-of-accessibility" rel="external nofollow noopener noreferrer" target="_blank">Web Content Accessibility Guidelines</a>。在这个Web Accessibilty指南中，有四大基本原则：Perceivable(可感知)，Operable (可操作)，Understandable (可理解)，Robust (健壮性)。其实就是强调对于不同的用户，在不同的终端中，用户可以和Web应用无障碍的交互。</p><p>在进行Web Accessibility测试的时候，有很多相关的工具，比如：测试网页配色对比度的。有相应的Screen Reader测试工具/插件。</p>]]></content>
    
    <summary type="html">
    
      Web Accessibility的重要性
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>说说英国的传奇工种 - 水暖工</title>
    <link href="https://www.aafeng.uk/plumber/"/>
    <id>https://www.aafeng.uk/plumber/</id>
    <published>2020-06-11T21:42:19.313Z</published>
    <updated>2020-06-11T21:42:19.313Z</updated>
    
    <content type="html"><![CDATA[<p>早就听说过英国的电工和水暖工是高薪工种。伴随着家中扩建工程的开始，陆陆续续的和电工，水暖工，木匠等这些具有特殊技能的人打交道，也慢慢对他们有了进一步的了解。</p><p><img src="/images/life/plumber.jpg" alt="英国水暖工"></p><a id="more"></a><p>所谓物以稀为贵。由于在整个英国，水暖工极度短缺，造成了劳动力市场上的供不应求，因此水管工的工资不断上涨。记得好多年前就看过<a href="https://www.telegraph.co.uk/news/uknews/1419327/Oxford-graduate-leaves-City-job-to-retrain-as-plumber.html" rel="external nofollow noopener noreferrer" target="_blank">一篇报道</a>，说牛津大学的毕业生转行做水暖工。有的水暖工的年薪超过10万英镑，甚至高达20万英镑，超过了大学教授！在伦敦的一些高端住宅区，也有水暖工凭借着自己的高薪收入，在那里购房安家的。这也难怪就连名校的毕业生也会做出这个决定了。</p><p>更为夸张的是那种应急型的水暖工，比如：谁家的水管裂了，锅炉坏了，水龙头井喷了等等，都需要专业人士在第一时间赶到。尤其是在夜间和周末，他们的费用就格外的高。记得上次我家的下水道堵了，叫了一个水暖工，无论是否修好，每小时50英镑。这高额的费用也生生把很多人逼成了DIY高手。</p><p>曾经有朋友开过一个玩笑，像电工这样的高端工种，穿着干练的职业装，气场十足，倒像大学的教授。反倒是一些大学的教授，不修边幅，穿着非常随意，从外貌上看似乎和大学没有丝毫关系。</p><p>随着人工智能的崛起，很多行业都受到威胁，尤其是普通生产流水线上的工人，保安，收银员，甚至一些高端职业，比如：会计师，精算师等都有可能被人工智能所代替。甚至编写代码的程序猿，都有可能被机器人代替。但水管工和电工这样需要高度手眼协调以及分析复杂问题的工种，目前来看似乎很难被机器人代替。</p><p>这让我不禁在想，要不然也转个行，做水暖工得了？？？</p>]]></content>
    
    <summary type="html">
    
      说说英国的传奇工种 - 水暖工
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>保护环境，人人有责</title>
    <link href="https://www.aafeng.uk/recycles/"/>
    <id>https://www.aafeng.uk/recycles/</id>
    <published>2020-06-10T21:56:15.845Z</published>
    <updated>2020-06-10T21:56:15.845Z</updated>
    
    <content type="html"><![CDATA[<p>在英国已经定居好多年了，慢慢也习惯了这边的很多规矩，比如：垃圾的严格分类。市政府提供的回收垃圾容器只有废纸，塑料瓶，和玻璃瓶三种。家中一旦有了不用的电器，用过的电池，都要放在特定的容器中，等到有时间的时候一起处理。</p><p><img src="/images/life/recycle.jpg" alt="可回收垃圾"></p><a id="more"></a><p>记得刚到英国的时候，傻傻的分不清各种回收物品该往哪里放，还是好心的邻居告诉我，才知道了什么可以放在回收容器中，什么东西不可以。</p><p>由于市政府提供的垃圾回收容器都比较小，同时只针对生活中最常见的可回收垃圾。因此如果有大量的可回收垃圾，或者比较特殊的可回收垃圾，比如：不用的电子产品，家具等，需要自己来解决。一般每座城市都会有专门的大型垃圾回收站。因此每过几周，我都会把家中的各种无法处理的垃圾带到垃圾回收站去处理。每次在垃圾回收站那里都需要排很长的队。</p><p>就拿这次家中的装修工程来说，家中有一堵又高又厚的树墙，不仅占据了很大的花园空间，还非常不容易打理，可以说既费时间又费钱。这次想趁着建筑工人在，有很多趁手的工具，把树墙彻底砍掉。但和建筑工人沟通后才知道，砍掉这些树墙本身工作量还好，并不是很大。但要把砍下来的树运走，造价就比较高了。需要租3-4个scape，大约需要800英镑左右。感觉这个代价似乎有些大。</p><p>还有一种对环境危害很大的垃圾就是废弃的电池。它不仅能对环境造成严重污染，还可能会危害人类的健康。好在英国的各大超市一般都提供电池回收箱，只要记着在去超市的时候把电池带上，扔在电池回收箱中就可以了。</p><p>人类生活的环境日趋恶化，我们所能做的就是从自己做起，尽量保护地球母亲，为我们的子孙后代做一件好事。</p>]]></content>
    
    <summary type="html">
    
      保护环境，人人有责
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>人工智能离我们多远不好说，但各种智能家居已经成为现在进行时</title>
    <link href="https://www.aafeng.uk/robot/"/>
    <id>https://www.aafeng.uk/robot/</id>
    <published>2020-06-09T22:29:13.122Z</published>
    <updated>2020-06-09T22:29:13.122Z</updated>
    
    <content type="html"><![CDATA[<p>今天和同事们聊天时聊到了疫情期间大家的厨艺，我顺便表扬了一下我家的做菜机器人。听的那些英国同事们两眼发亮，纷纷询问在英国能不能买到。看样子我可以在英国摆个地摊卖炒菜机器人了。。。</p><p><img src="/images/life/robot.jpg" alt="智能家居"></p><a id="more"></a><p>我家的炒菜机器人是九阳系列产品中的中档产品，记得似乎不到2000块。全家对这个炒菜机器人的态度由怀疑，到相信，再到现在的离不开，可以说是发生了彻底的改变。不过这款貌似简单的机器人，做的一些菜比手工做的还好吃，以至于在英国认识的好多朋友家中都有着类似的产品。</p><p>除了炒菜机器人之外，家中还有另外一个使用频率超级高的扫地机器人。这是小米家的产品，感觉非常智能。能够非常高效的计划路线，避开障碍物，自动提示垃圾袋满，自动回充。整个扫地的过程非常快，而且还能把我们平时不易清扫的一些死角打扫的非常干净。</p><p>最受孩子们喜欢的是刚买不久的Google Home Hub。它有点类似于Amazon Alexa。它和Google的系列产品整合的非常好。每天孩子们起床后第一件事就是来调戏Google。让我们不得不在他们写作业的时候让Google先关机休息一会儿。</p><p>感觉我们生活中已经越来越多的被这些智能设备所充斥了。这些智能设别为我们的生活带来了诸多便利。出差了，可以让智能家居管理家中电器，给人一种主人在家的感觉。下班到家了，智能家居可以自动开灯，并提前把饭菜做好。</p><p>智能家居带来的诸多好处是不言而喻的，但似乎在慢慢把人们变成了什么都不会做，也不想做的懒人了？</p>]]></content>
    
    <summary type="html">
    
      人工智能离我们多远不好说，但各种智能家居已经成为现在进行时
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="智能家居" scheme="https://www.aafeng.uk/tags/%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85/"/>
    
  </entry>
  
  <entry>
    <title>使用Kibana对Hive中文区数据进行可视化</title>
    <link href="https://www.aafeng.uk/kibana-visualization-hive/"/>
    <id>https://www.aafeng.uk/kibana-visualization-hive/</id>
    <published>2020-06-08T22:52:37.566Z</published>
    <updated>2020-06-08T22:52:37.566Z</updated>
    
    <content type="html"><![CDATA[<p>在前面介绍了如何把Hive中的帖子保存到Elasticsearch中。有了数据，就有好多玩法了。下面介绍如何通过Kibana对Hive中文区的发帖数据进行可视化分析。</p><p><img src="/images/technology/kibana/kibana.png" alt="Kibana"></p><a id="more"></a><h2 id="关于数据的说明"><a href="#关于数据的说明" class="headerlink" title="关于数据的说明"></a>关于数据的说明</h2><p>获取下面数据的代码，是根据上篇文章最后的代码稍作改编而得到的。作为演示，只读取了HIVE CN 中文社区的最新100篇文章。由于这篇文章的重点是介绍如何进行数据可视化，而不是可视化报告本身，后面有时间的话可以从链上把数据都抓取下来，放在ES中，那样生成的报告本身就更有意义了。</p><h2 id="操作环境"><a href="#操作环境" class="headerlink" title="操作环境"></a>操作环境</h2><p>Elasticsearch: 7.7.0<br>Kibana: 7.7.0</p><h2 id="创建索引模式-Index-Pattern"><a href="#创建索引模式-Index-Pattern" class="headerlink" title="创建索引模式(Index Pattern)"></a>创建索引模式(Index Pattern)</h2><p>ES中的索引模式(Index Pattern)可以针对多个索引，因此在创建时支持通配符。</p><p>在Kibana的页面中选择：Kibana -&gt; Management -&gt; Index Patterns -&gt; Create index pattern</p><p>创建完毕后会看到如下界面：</p><p><img src="/images/blockchain/kibana/kibana.png" alt="Kibana"></p><p>可以看到有的字段可以被搜索的(Searchable)，有的字段是可以被聚合的(Aggregatable)。</p><h2 id="在Kibana中查看数据"><a href="#在Kibana中查看数据" class="headerlink" title="在Kibana中查看数据"></a>在Kibana中查看数据</h2><p>单击Discovery后，可以输入KQL来检索数据。</p><p>比如，输入：</p><pre><code>author = aafeng</code></pre><p>你会看到：</p><p><img src="/images/blockchain/kibana/kibana2.png" alt="Kibana"></p><p>KQL的语法和SQL非常相似，简单好用，比如：</p><pre><code>author = aafeng and created = 2020-06-08*</code></pre><p>可以通过左侧菜单选择索引，以及字段。    </p><h2 id="Kibana可视化"><a href="#Kibana可视化" class="headerlink" title="Kibana可视化"></a>Kibana可视化</h2><p>下面把每个作者在所统计的区间(这100篇文章所覆盖的时间段)内的发文数做一个统计，并以饼图的形式呈现出来。</p><p>选择Visualize -&gt; Create visualization -&gt; Pie，由于目前没有对源数据进行定义，因此，初始饼图看起来这是这样的：</p><p><img src="/images/blockchain/kibana/kibana3.png" alt="Kibana"></p><p>选择Buckets -&gt; Add -&gt; Split slices -&gt; Terms，选取Author字段，并选择Metric: Count。</p><p><img src="/images/blockchain/kibana/kibana4.png" alt="Kibana"></p><p>可以看到更新后的饼图：</p><p><img src="/images/blockchain/kibana/kibana5.png" alt="Kibana"></p><p>最后不要忘记保存你的Visualization。</p><p>还可以把这些数据以不同的图形来展示，比如：柱形图。同时也可以通过KQL把数据做筛选后再绘制图形。例如：下面的柱形图展示了中文区6月7日的发帖统计：</p><p><img src="/images/blockchain/kibana/kibana6.png" alt="Kibana"></p>]]></content>
    
    <summary type="html">
    
      使用Kibana对Hive中文区数据进行可视化
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="ELK" scheme="https://www.aafeng.uk/tags/ELK/"/>
    
  </entry>
  
  <entry>
    <title>使用Kibana可视化你的数据</title>
    <link href="https://www.aafeng.uk/kibana-visualization/"/>
    <id>https://www.aafeng.uk/kibana-visualization/</id>
    <published>2020-06-08T15:07:11.141Z</published>
    <updated>2020-06-08T15:07:11.141Z</updated>
    
    <content type="html"><![CDATA[<p>把数据保存到Elasticsearch之后，有一个重要的工作就是要对数据进行可视化，以便下一步的分析。下面通过一个官方的数据集来介绍如何通过Kibana进行数据可视化。</p><p><img src="/images/technology/kibana/kibana.png" alt="Kibana"></p><a id="more"></a><h2 id="操作环境"><a href="#操作环境" class="headerlink" title="操作环境"></a>操作环境</h2><p>Elasticsearch: 7.7.0<br>Kibana: 7.7.0</p><h2 id="下载并导入数据"><a href="#下载并导入数据" class="headerlink" title="下载并导入数据"></a>下载并导入数据</h2><p>从官网下载如下的数据集：<a href="https://download.elastic.co/demos/kibana/gettingstarted/accounts.zip" rel="external nofollow noopener noreferrer" target="_blank">https://download.elastic.co/demos/kibana/gettingstarted/accounts.zip</a></p><p>解压缩后会得到accounts.json这个文件，其大小大约为240K。</p><p>运行如下命令将数据导入ES：</p><pre><code>curl -H &apos;Content-Type: application/x-ndjson&apos; -XPOST &apos;localhost:9200/bankdemo/account/_bulk?pretty&apos; --data-binary @accounts.json</code></pre><p>在Kibana的Devtool中验证数据已经被导入：</p><pre><code>GET /_cat/indices?vGET bankdemo/_search?q=*:*</code></pre><p>其输出类似于：</p><pre><code>{  &quot;took&quot; : 6,  &quot;timed_out&quot; : false,  &quot;_shards&quot; : {    &quot;total&quot; : 1,    &quot;successful&quot; : 1,    &quot;skipped&quot; : 0,    &quot;failed&quot; : 0  },  &quot;hits&quot; : {    &quot;total&quot; : {      &quot;value&quot; : 1000,      &quot;relation&quot; : &quot;eq&quot;    },    &quot;max_score&quot; : 1.0,    &quot;hits&quot; : [      {        &quot;_index&quot; : &quot;bankdemo&quot;,        &quot;_type&quot; : &quot;account&quot;,        &quot;_id&quot; : &quot;1&quot;,        &quot;_score&quot; : 1.0,        &quot;_source&quot; : {          &quot;account_number&quot; : 1,          &quot;balance&quot; : 39225,          &quot;firstname&quot; : &quot;Amber&quot;,          &quot;lastname&quot; : &quot;Duke&quot;,          &quot;age&quot; : 32,          &quot;gender&quot; : &quot;M&quot;,          &quot;address&quot; : &quot;880 Holmes Lane&quot;,          &quot;employer&quot; : &quot;Pyrami&quot;,          &quot;email&quot; : &quot;amberduke@pyrami.com&quot;,          &quot;city&quot; : &quot;Brogan&quot;,          &quot;state&quot; : &quot;IL&quot;        }      },……</code></pre><h2 id="创建索引模式-Index-Pattern"><a href="#创建索引模式-Index-Pattern" class="headerlink" title="创建索引模式(Index Pattern)"></a>创建索引模式(Index Pattern)</h2><p>索引模式(Index Pattern)可以针对多个索引，因此在创建时支持通配符。</p><p>在Kibana的页面中选择：Kibana -&gt; Management -&gt; Index Patterns -&gt; Create index pattern</p><p><img src="/images/technology/kibana/visualization1.png" alt="Kibana"></p><p>创建完毕后会看到如下界面：</p><p><img src="/images/technology/kibana/visualization2.png" alt="Kibana"></p><p>可以看到有的字段可以被搜索的(Searchable)，有的字段是可以被聚合的(Aggregatable)。如果需要的话，可以自己更改这些字段的属性。</p><h2 id="在Kibana中查看数据"><a href="#在Kibana中查看数据" class="headerlink" title="在Kibana中查看数据"></a>在Kibana中查看数据</h2><p>单击Discovery后，可以输入KQL来检索数据。</p><p>比如，输入：</p><pre><code>balance &gt;= 47500 and employer:a*</code></pre><p>你会看到：</p><p><img src="/images/technology/kibana/visualization3.png" alt="Kibana"></p><p>KQL的语法和SQL非常相似，简单好用，比如：</p><pre><code>balance &gt;= 47500 and employer:a* and account_number &gt; 100</code></pre><p>可以通过左侧菜单选择索引，以及字段。    </p><h2 id="Kibana可视化：饼图"><a href="#Kibana可视化：饼图" class="headerlink" title="Kibana可视化：饼图"></a>Kibana可视化：饼图</h2><p>选择Visualize -&gt; Create visualization -&gt; Pie -&gt; Bank Demo</p><p><img src="/images/technology/kibana/visualization4.png" alt="Kibana"></p><p>由于目前没有对源数据进行定义，因此，初始饼图看起来这是这样的：</p><p><img src="/images/technology/kibana/visualization5.png" alt="Kibana"></p><p>选择Buckets -&gt; Add -&gt; Split slices -&gt; Range，同时设定不同的范围：</p><p><img src="/images/technology/kibana/visualization6.png" alt="Kibana"></p><p>可以看到更新后的饼图：</p><p><img src="/images/technology/kibana/visualization7.png" alt="Kibana"></p><p>还可以添加一个SUB-BUCKET，在现有聚合的基础上做进一步的划分：</p><p><img src="/images/technology/kibana/visualization8.png" alt="Kibana"></p><p>最后不要忘记保存你的Visualization。</p>]]></content>
    
    <summary type="html">
    
      使用Kibana可视化你的数据
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ELK" scheme="https://www.aafeng.uk/tags/ELK/"/>
    
  </entry>
  
  <entry>
    <title>编程思想</title>
    <link href="https://www.aafeng.uk/programming-thinking/"/>
    <id>https://www.aafeng.uk/programming-thinking/</id>
    <published>2020-06-07T20:07:13.286Z</published>
    <updated>2020-06-07T20:07:13.286Z</updated>
    
    <content type="html"><![CDATA[<p>最近和朋友聊天，正好他家的孩子也在学习编程。于是就聊到了怎么教孩子编程，该教些什么，以及什么是编程思想的问题上。</p><p><img src="/images/technology/programming-thinking.jpg" alt="编程思想"><br>图源：Pixabay</p><a id="more"></a><p>其实在很多年前就和同事们讨论过这个问题。大家一致认为编程的过程其实就是一种逻辑思维的过程，是如何将一个现实世界的问题逐步分解，再用算法将其高效实现的过程。因此，在整个编程思维的训练过程中，最重要的是训练思维的逻辑性。</p><p>记得上大学的时候，在数学系，计算机系，和计算中心等好几个系中都有程序设计的高手，这些人都有一个共同的特点，就是他们的数学功底都非常好。有的是数学系科班出身的，有的虽然不是数学系毕业的，但数学功底是非常深厚的。记得曾经一起做过项目的一个南开大学数学系退休返聘的老教授，负责最核心的算法部分，每次手写的代码，成百上千行，几乎都是一次性通过测试。他缜密的思维能力让人佩服万分。究其原因，其实就是数学好的人，无一例外的，逻辑思维都非常清晰，而这是在编程中最为重要的部分。</p><p>曾经有人打过一个比方，学习编程的过程，有点类似金庸小说中的武功修炼。不仅有各种实用的招式，也需要有深厚内功的辅助才行。在编程的学习中，数据结构，算法等基础性课程就好比是内功。如果内功修炼的够深厚了，无论用什么编程语言，什么框架，都会使的得心应手，做出优秀的软件来。当然，在内功好的基础上，如果能辅以高效的框架和编程语言，就能更加有效的开发软件。</p><p>回到教孩子编程这个问题上来，我认为首先是培养他们的兴趣。但在培养的过程中，一定注意启发他们积极思考，将程序设计中的逻辑性贯穿到每个例子中。一旦他们真正掌握了这种思维方式，以后再学习任何其他语言或者框架时才能举一反三，事半功倍。</p>]]></content>
    
    <summary type="html">
    
      编程思想
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Elasticsearch的中文分词</title>
    <link href="https://www.aafeng.uk/elasticsearch-chinese-tokenizer/"/>
    <id>https://www.aafeng.uk/elasticsearch-chinese-tokenizer/</id>
    <published>2020-06-05T21:32:41.847Z</published>
    <updated>2020-06-05T21:32:41.847Z</updated>
    
    <content type="html"><![CDATA[<p>以下的步骤都是基于Elasticsearch和Kibana的基础上的，如果还没有安装，建议参考我前面的文章。</p><p><img src="/images/blockchain/hive/es.png" alt="Elasticsearch"></p><a id="more"></a><h2 id="什么是分词和默认分词器？"><a href="#什么是分词和默认分词器？" class="headerlink" title="什么是分词和默认分词器？"></a>什么是分词和默认分词器？</h2><p>所谓分词，就是把一段话拆解为若干词元(token)，再将其保存至索引中以便下一步搜索。在ES中有现成的分词器，只不过这些分词器对中文的处理不尽人意。看一个例子：</p><p>在Kibana devtool中输入：</p><pre><code>GET _analyze{      &quot;text&quot;: &quot;are you ok?&quot;  }</code></pre><p>这等同于：</p><pre><code>GET _analyze{      &quot;analyzer&quot;: &quot;standard&quot;,    &quot;text&quot;: &quot;are you ok?&quot;  }</code></pre><p>可以看到其返回结果为：</p><pre><code>{  &quot;tokens&quot; : [    {      &quot;token&quot; : &quot;are&quot;,      &quot;start_offset&quot; : 0,      &quot;end_offset&quot; : 3,      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,      &quot;position&quot; : 0    },    {      &quot;token&quot; : &quot;you&quot;,      &quot;start_offset&quot; : 4,      &quot;end_offset&quot; : 7,      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,      &quot;position&quot; : 1    },    {      &quot;token&quot; : &quot;ok&quot;,      &quot;start_offset&quot; : 8,      &quot;end_offset&quot; : 10,      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,      &quot;position&quot; : 2    }  ]}</code></pre><p>在这里，将”are you ok?”分成了三个词元：”are”, “you”，”ok”。这样的分词没有任何问题，毕竟在英文中就是用空格来分隔各个单词的。</p><p>但如果我们再尝试一段中文的话：</p><pre><code>GET _analyze{      &quot;text&quot;: &quot;我爱我的祖国&quot;  }</code></pre><p>其输出结果为：</p><pre><code>{  &quot;tokens&quot; : [    {      &quot;token&quot; : &quot;我&quot;,      &quot;start_offset&quot; : 0,      &quot;end_offset&quot; : 1,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 0    },    {      &quot;token&quot; : &quot;爱&quot;,      &quot;start_offset&quot; : 1,      &quot;end_offset&quot; : 2,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 1    },    {      &quot;token&quot; : &quot;我&quot;,      &quot;start_offset&quot; : 2,      &quot;end_offset&quot; : 3,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 2    },    {      &quot;token&quot; : &quot;的&quot;,      &quot;start_offset&quot; : 3,      &quot;end_offset&quot; : 4,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 3    },    {      &quot;token&quot; : &quot;祖&quot;,      &quot;start_offset&quot; : 4,      &quot;end_offset&quot; : 5,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 4    },    {      &quot;token&quot; : &quot;国&quot;,      &quot;start_offset&quot; : 5,      &quot;end_offset&quot; : 6,      &quot;type&quot; : &quot;&lt;IDEOGRAPHIC&gt;&quot;,      &quot;position&quot; : 5    }  ]}</code></pre><p>这样的分词结果是明显错误的，或者说是没什么用的。</p><h2 id="安装elasticsearch中文分词器"><a href="#安装elasticsearch中文分词器" class="headerlink" title="安装elasticsearch中文分词器"></a>安装elasticsearch中文分词器</h2><p>常见的elasticsearch中文分词器包括：<a href="https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-smartcn.html" rel="external nofollow noopener noreferrer" target="_blank">smartcn</a>和<a href="https://github.com/medcl/elasticsearch-analysis-ik" rel="external nofollow noopener noreferrer" target="_blank">ik</a>。</p><p>下面以ik分词器为例来说明如何安装和使用elasticsearch中文分词器。</p><p>首先需要注意，分词器的版本一定要和elasticsearch版本匹配。比如：我使用的elasticsearch版本是7.7.0，那么，对应的分词器版本也应该是7.7.0。</p><p>完整的ik版本列表可以在这里找到：<a href="https://github.com/medcl/elasticsearch-analysis-ik/releases" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/medcl/elasticsearch-analysis-ik/releases</a></p><p>首先进行安装：</p><pre><code>./elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.7.0/elasticsearch-analysis-ik-7.7.0.zip</code></pre><p>验证一下是否成功安装：</p><pre><code>./elasticsearch-plugin list</code></pre><p>它会显示刚安装的中文分词器。</p><p>同时可以看到，在plugins目录下多了一个analysis-ik子目录。</p><p>安装结束后，就会有两个分词器：ik_max_word和ik_smart。这两个分词器的算法不同。第一个会尽量分出更多的中文词，但会占用更多空间。而第二个则不会。一般情况下，使用ik_smart就足够了。</p><p>比如：运行如下查询：</p><pre><code>GET _analyze{      &quot;analyzer&quot;: &quot;ik_smart&quot;,    &quot;text&quot;: &quot;我爱我的祖国&quot;  }</code></pre><p>其结果为：</p><pre><code>{  &quot;tokens&quot; : [    {      &quot;token&quot; : &quot;我&quot;,      &quot;start_offset&quot; : 0,      &quot;end_offset&quot; : 1,      &quot;type&quot; : &quot;CN_CHAR&quot;,      &quot;position&quot; : 0    },    {      &quot;token&quot; : &quot;爱我&quot;,      &quot;start_offset&quot; : 1,      &quot;end_offset&quot; : 3,      &quot;type&quot; : &quot;CN_WORD&quot;,      &quot;position&quot; : 1    },    {      &quot;token&quot; : &quot;的&quot;,      &quot;start_offset&quot; : 3,      &quot;end_offset&quot; : 4,      &quot;type&quot; : &quot;CN_CHAR&quot;,      &quot;position&quot; : 2    },    {      &quot;token&quot; : &quot;祖国&quot;,      &quot;start_offset&quot; : 4,      &quot;end_offset&quot; : 6,      &quot;type&quot; : &quot;CN_WORD&quot;,      &quot;position&quot; : 3    }  ]}</code></pre><h2 id="定义自己的词条"><a href="#定义自己的词条" class="headerlink" title="定义自己的词条"></a>定义自己的词条</h2><p>在ik分词器中，所有的词条文件都保存在elasticsearch-7.7.0/config/analysis-ik中。如果想要定义自己的词条，需要以下几个步骤：</p><p>首先在这个目录中创建一个新的词条文件，并将新的词条每行添加一个</p><pre><code>新词条1新词条2....</code></pre><p>接下来，在配置文件IKAnalyzer.cfg.xml中添加对上一步自建词条文件的引用：</p><pre><code>&lt;entry key=&quot;ext_dict&quot;&gt;new_dict.dic&lt;/entry&gt;</code></pre><p>之后需要重新启动ES才能生效。</p><h2 id="在索引中使用中文分词器"><a href="#在索引中使用中文分词器" class="headerlink" title="在索引中使用中文分词器"></a>在索引中使用中文分词器</h2><p>创建索引：</p><pre><code>curl -X PUT localhost:9200/ik1</code></pre><p>或者在Kibana中：</p><pre><code>PUT ik1{&quot;settings&quot;: {  &quot;analysis&quot;: {    &quot;analyzer&quot;: {      &quot;es_std&quot;: {        &quot;type&quot;: &quot;ik_smart&quot;      }    }  }}}</code></pre><p>查看ik1</p><pre><code>GET ik1</code></pre><p>试用分词器：</p><pre><code>GET /ik1/_analyze{  &quot;analyzer&quot;: &quot;ik_smart&quot;,   &quot;text&quot;: &quot;我和我的祖国&quot;}</code></pre><p>在Python交互界面中添加一条数据：</p><pre><code>from elasticsearch import Elasticsearches = Elasticsearch()es.index(index=&quot;ik1&quot;, id=1, body={&quot;text&quot;: &quot;我和我的祖国&quot;})</code></pre><p>测试以下查询：</p><pre><code>POST ik1/_search{    &quot;query&quot;: {        &quot;query_string&quot;: {            &quot;query&quot;: &quot;祖国&quot;,            &quot;fields&quot;: [&quot;text&quot;]        }    }}</code></pre><p>其返回值为：</p><pre><code>{  &quot;took&quot; : 5,  &quot;timed_out&quot; : false,  &quot;_shards&quot; : {    &quot;total&quot; : 1,    &quot;successful&quot; : 1,    &quot;skipped&quot; : 0,    &quot;failed&quot; : 0  },  &quot;hits&quot; : {    &quot;total&quot; : {      &quot;value&quot; : 1,      &quot;relation&quot; : &quot;eq&quot;    },    &quot;max_score&quot; : 0.5753642,    &quot;hits&quot; : [      {        &quot;_index&quot; : &quot;ik1&quot;,        &quot;_type&quot; : &quot;_doc&quot;,        &quot;_id&quot; : &quot;1&quot;,        &quot;_score&quot; : 0.5753642,        &quot;_source&quot; : {          &quot;text&quot; : &quot;我和我的祖国&quot;        }      }    ]  }}</code></pre>]]></content>
    
    <summary type="html">
    
      Elasticsearch的中文分词
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>自制Pizza</title>
    <link href="https://www.aafeng.uk/pizza/"/>
    <id>https://www.aafeng.uk/pizza/</id>
    <published>2020-06-04T21:21:07.977Z</published>
    <updated>2020-06-04T21:21:07.977Z</updated>
    
    <content type="html"><![CDATA[<p>自从宅在家中后，很多闲置多年的电器开始启用了。媳妇最近开始使用面包机制作面包，其口感和味道比超市买的买包好吃了不止一个档次。最近还发现了一个功能：可以用面包机制作pizza所需的面饼。</p><p>正好孩子们都超级喜欢pizza，于是买齐了食材，开始制作pizza。先上一张成品图：</p><p><img src="/images/food/pizza/1.jpg" alt="Pizza"></p><a id="more"></a><p>首先将面包机中发好的面团拿出来擀成pizza的面饼：</p><p><img src="/images/food/pizza/2.jpg" alt="Pizza"></p><p>将面饼上抹上西红柿酱，由于所有人都喜欢Cheese，因此先放了一层Cheese：</p><p><img src="/images/food/pizza/3.jpg" alt="Pizza"></p><p>接下来将Pepperoni摆匀：</p><p><img src="/images/food/pizza/4.jpg" alt="Pizza"></p><p>再摆放洋葱，角瓜，蘑菇，最后上面再放一层Cheese：</p><p><img src="/images/food/pizza/5.jpg" alt="Pizza"></p><p>烤箱预热后烤了20分钟就好了，既简单又好吃！</p>]]></content>
    
    <summary type="html">
    
      自制Pizza
    
    </summary>
    
      <category term="美食" scheme="https://www.aafeng.uk/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>将Hive文章保存到Elasticsearch的尝试</title>
    <link href="https://www.aafeng.uk/hive-elasticsearch/"/>
    <id>https://www.aafeng.uk/hive-elasticsearch/</id>
    <published>2020-06-04T11:15:18.116Z</published>
    <updated>2020-06-04T11:15:18.116Z</updated>
    
    <content type="html"><![CDATA[<p>一直对Hive的搜索功能不是很满意。在工作中使用过不同的框架，这些框架提供的搜索功能中，facet，关键字标红等可以说是标配。但在Hive中一样都没有。其原因我也能理解，毕竟从链上读取数据，这些数据中不包含需要的信息，自然也不太容易实现这些功能。那么，如果把链上数据保存到Solr或者Elasticsearch中，不就能增强其搜索功能了吗？下面记录一下把Hive中的文章信息保存到Elasticsearch中的步骤。当然，下面只是一个简单的实验，想做到一个真正能工作的网站还有很多工作要做。</p><p><img src="/images/blockchain/hive/es.png" alt="Elasticsearch"></p><a id="more"></a><h2 id="安装Elasticsearch"><a href="#安装Elasticsearch" class="headerlink" title="安装Elasticsearch"></a>安装Elasticsearch</h2><p>下载Elasticsearch:</p><p><a href="https://www.elastic.co/cn/downloads/elasticsearch" rel="external nofollow noopener noreferrer" target="_blank">https://www.elastic.co/cn/downloads/elasticsearch</a></p><p>解压缩：</p><pre><code>tar xvf elasticsearch-7.7.0-linux-x86_64.tar.gz</code></pre><p>运行：</p><pre><code>cd elasticsearch-7.7.0/bin ./elasticsearch</code></pre><p>在本地用curl测试一下：</p><pre><code>curl localhost:9200</code></pre><p>其输出应类似于：</p><pre><code>{  &quot;name&quot; : &quot;YOUR_SERVER_NAME&quot;,  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,  &quot;cluster_uuid&quot; : &quot;liHA066AQJeE91lv8lLqig&quot;,  &quot;version&quot; : {    &quot;number&quot; : &quot;7.7.0&quot;,    &quot;build_flavor&quot; : &quot;default&quot;,    &quot;build_type&quot; : &quot;tar&quot;,    &quot;build_hash&quot; : &quot;81a1e9eda8e6183f5237786246f6dced26a10eaf&quot;,    &quot;build_date&quot; : &quot;2020-05-12T02:01:37.602180Z&quot;,    &quot;build_snapshot&quot; : false,    &quot;lucene_version&quot; : &quot;8.5.1&quot;,    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;  },  &quot;tagline&quot; : &quot;You Know, for Search&quot;}</code></pre><h2 id="安装Kibana"><a href="#安装Kibana" class="headerlink" title="安装Kibana"></a>安装Kibana</h2><p>其实，要想使用Elasticsearch，不一定要安装Kibana。但有了Kibana，可以实现对Elasticsearch中的数据可视化。</p><p>从官网下载：<a href="https://www.elastic.co/cn/downloads/kibana" rel="external nofollow noopener noreferrer" target="_blank">https://www.elastic.co/cn/downloads/kibana</a></p><p>解压缩后进入config目录并修改kibana.yml:</p><pre><code>server.host: &quot;0.0.0.0&quot;</code></pre><p>进入bin目录运行：</p><pre><code>./kibana</code></pre><p>可以看到如下界面：    </p><p><img src="/images/blockchain/hive/es2.png" alt="Elasticsearch"></p><p>导入如下电商数据进行测试：</p><p><img src="/images/blockchain/hive/es3.png" alt="Elasticsearch"></p><p>打开devtool后进行一个简单的查询，可以看到如下数据：</p><p><img src="/images/blockchain/hive/es4.png" alt="Elasticsearch"></p><h2 id="Elasticsearch中的重要概念"><a href="#Elasticsearch中的重要概念" class="headerlink" title="Elasticsearch中的重要概念"></a>Elasticsearch中的重要概念</h2><p>在向ElasticSearch中插入数据之前，把其中的重要概念和传统的关系型数据库做一个对比：</p><p><strong>ES =&gt; RDB</strong></p><p>Index  =&gt;  Database<br>Type  =&gt;   Table<br>Document  =&gt;  Row<br>Field =&gt;  Column<br>Mapping  =&gt;   Schema</p><h2 id="安装并测试Python-elasticsearch模块"><a href="#安装并测试Python-elasticsearch模块" class="headerlink" title="安装并测试Python elasticsearch模块"></a>安装并测试Python elasticsearch模块</h2><p>首先安装elasticsearch模块：</p><pre><code>pip install elasticsearch</code></pre><p>进入Python命令行，依次输入如下命令创建一个新的索引“hive-posts-index”：</p><pre><code>&gt;&gt;&gt; from datetime import datetime&gt;&gt;&gt; from elasticsearch import Elasticsearch&gt;&gt;&gt; es = Elasticsearch()&gt;&gt;&gt; es.indices.create(index=&apos;hive-posts-index&apos;, ignore=400){&apos;acknowledged&apos;: True, &apos;shards_acknowledged&apos;: True, &apos;index&apos;: &apos;hive-posts-index&apos;}</code></pre><p>如果要删除记录：</p><pre><code>curl -X DELETE &apos;localhost:9200/test-index&apos;</code></pre><p>进入Kibana devtool界面，就会看到这个索引已经创建：</p><p><img src="/images/blockchain/hive/es5.png" alt="Elasticsearch"></p><p>测试添加记录</p><pre><code>es.index(index=&quot;hive-posts-index&quot;, id=1, body={&quot;any&quot;: &quot;data&quot;, &quot;timestamp&quot;: datetime.now()})</code></pre><p>读取记录：</p><pre><code>&gt;&gt;&gt; es.get(index=&quot;hive-posts-index&quot;, id=1){&apos;_index&apos;: &apos;hive-posts-index&apos;, &apos;_type&apos;: &apos;_doc&apos;, &apos;_id&apos;: &apos;1&apos;, &apos;_version&apos;: 1, &apos;_seq_no&apos;: 0, &apos;_primary_term&apos;: 1, &apos;found&apos;: True, &apos;_source&apos;: {&apos;any&apos;: &apos;data&apos;, &apos;timestamp&apos;: &apos;2020-06-02T15:52:40.759337&apos;}}</code></pre><h2 id="将Hive中的帖子插入到Elasticsearch中"><a href="#将Hive中的帖子插入到Elasticsearch中" class="headerlink" title="将Hive中的帖子插入到Elasticsearch中"></a>将Hive中的帖子插入到Elasticsearch中</h2><p>写了一个简单的程序，将我最新5篇文章的标题，正文，分类保存到ES，并以permlink作为ES中的id：</p><pre><code>from beem import Steemfrom beem.account import Accountfrom datetime import datetimefrom elasticsearch import Elasticsearches = Elasticsearch()hive    = Steem(nodes = &apos;https://api.hive.blog&apos;)account = Account(&apos;aafeng&apos;, steem_instance = hive)posts   = account.get_blog(start_entry_id=0, limit=5)for post in posts:    author   = post.author    title    = post.title    body     = post.body    category = post.category    permlink = post.permlink    es.index(index=&quot;hive-posts-index&quot;, id=permlink, body={&quot;author&quot;: author,\                                                    &quot;title&quot;:  title,\                                                    &quot;body&quot;:   body,\                                                    &quot;category&quot;: category,\                                                    &quot;permlink&quot;: permlink,\                                                    &quot;timestamp&quot;: datetime.now()})</code></pre><p>在Kibana中进行查询：</p><pre><code>GET hive-posts-index/_search?q=*:*</code></pre><p>从输出可以看出，我的文章已经保存到ES中了:</p><p><img src="/images/blockchain/hive/es6.png" alt="Elasticsearch"></p><p>也可以使用curl验证是否已经将数据保存至ES：</p><pre><code>curl http://localhost:9200/hive-posts-index/_search?size=5</code></pre><p>然后可以使用ES来进行各种查询了，比如：</p><pre><code>GET hive-posts-index/_search?q=title:必有GET hive-posts-index/_search?q=category:hive-105017</code></pre><p>查看所有索引：</p><pre><code>GET _cat/indicesGET _cat/indices?v</code></pre><p>查看一个文档：</p><pre><code>GET hive-posts-index/_doc/6ulbjb</code></pre><p>显示所有Type:</p><pre><code>GET _mapping?pretty=true</code></pre>]]></content>
    
    <summary type="html">
    
      将Hive文章保存到Elasticsearch的尝试
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Hive" scheme="https://www.aafeng.uk/tags/Hive/"/>
    
  </entry>
  
  <entry>
    <title>疫情这个怪兽正在慢慢吞噬着我们的生活</title>
    <link href="https://www.aafeng.uk/covid19-impacts/"/>
    <id>https://www.aafeng.uk/covid19-impacts/</id>
    <published>2020-06-03T23:06:22.253Z</published>
    <updated>2020-06-03T23:06:22.253Z</updated>
    
    <content type="html"><![CDATA[<p>今天听到一个让人非常遗憾的消息，位于约克的英国千年古校York Minster School由于缺少资金，被迫关闭。校中学生部分转到另一所私校，部分自己需要找下一家。</p><p><img src="/images/life/covid19/impact1.jpg" alt="疫情"></p><a id="more"></a><p>这座古校建于公元627年，由于依附于约克大教堂，因此该校的唱诗班以至音乐都非常强。而且这座学校还是英国著名的prep school，为英国很多的顶级私立学校输送了众多优秀的学生。最近由于封城，约克的旅游业遭受了致命性打击，而作为约克最著名的景点之一，约克大教堂也遭受了重创。关闭Minster School也是在当前疫情下的无奈之举。</p><p>很不幸的是，在同一天听到了另一个坏消息。由于游客锐减为零，英国乃至欧洲最大的动物园之一Chester Zoo也面临闭园的厄运。去年年底还曾经去Chester动物园玩过，没有想到目前会是这样一个局面。目前动物园在官网呼吁大家的帮助，以渡过难关：</p><p><img src="/images/life/covid19/zoo1.png" alt="疫情"></p><p>可以选择在线捐款，也可以选择“收养”一个动物。如果选择“收养”，动物园还会照看动物，只不过你的名字会被打印出来，并会陈列在动物名牌旁边的致谢列表中。看看这些可爱的动物吧，要不要收养一只？</p><p><img src="/images/life/covid19/zoo2.jpg" alt="疫情"></p><p><img src="/images/life/covid19/zoo3.jpg" alt="疫情"></p><p><img src="/images/life/covid19/zoo4.jpg" alt="疫情"></p><p>最近听到的类似信息有很多。可以看到，疫情对人们生活的负面影响已经慢慢的显现出来了。接下来可能还会有更多的公司倒闭，就连英国的很多大学也会收到重大影响，毕竟海外学生的学费是很多大学的重要收入来源。在这种形式下，只能是大家互相帮助，共度时艰。希望学校能够早日复课，动物园能够重新开放，我们的生活也能早日恢复正常。</p>]]></content>
    
    <summary type="html">
    
      疫情这个怪兽正在慢慢吞噬着我们的生活
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="疫情" scheme="https://www.aafeng.uk/tags/%E7%96%AB%E6%83%85/"/>
    
  </entry>
  
  <entry>
    <title>How to save Hive posts into Elasticsearch</title>
    <link href="https://www.aafeng.uk/hive-elasticserach-tutorial/"/>
    <id>https://www.aafeng.uk/hive-elasticserach-tutorial/</id>
    <published>2020-06-03T14:25:34.616Z</published>
    <updated>2020-06-03T14:25:34.616Z</updated>
    
    <content type="html"><![CDATA[<p>Elasticsearch is a great search engine providing a distributed, multitenant-capable full-text search engine. It provides features like facets, keyword highlighting etc in the search user interface. Here is a tutorial to index Hive posts into elasticsearch.</p><p><img src="/images/blockchain/hive/es.png" alt="Elasticsearch"></p><a id="more"></a><h2 id="Install-Elasticsearch"><a href="#Install-Elasticsearch" class="headerlink" title="Install Elasticsearch"></a>Install Elasticsearch</h2><p>Download Elasticsearch(ES) from the official site:</p><p><a href="https://www.elastic.co/cn/downloads/elasticsearch" rel="external nofollow noopener noreferrer" target="_blank">https://www.elastic.co/cn/downloads/elasticsearch</a></p><p>Decompress:</p><pre><code>tar xvf elasticsearch-7.7.0-linux-x86_64.tar.gz</code></pre><p>Then run the following command to start ES:</p><pre><code>cd elasticsearch-7.7.0/bin ./elasticsearch</code></pre><p>Use curl to test:</p><pre><code>curl localhost:9200</code></pre><p>You will the the output like:</p><pre><code>{  &quot;name&quot; : &quot;YOUR_SERVER_NAME&quot;,  &quot;cluster_name&quot; : &quot;elasticsearch&quot;,  &quot;cluster_uuid&quot; : &quot;liHA066AQJeE91lv8lLqig&quot;,  &quot;version&quot; : {    &quot;number&quot; : &quot;7.7.0&quot;,    &quot;build_flavor&quot; : &quot;default&quot;,    &quot;build_type&quot; : &quot;tar&quot;,    &quot;build_hash&quot; : &quot;81a1e9eda8e6183f5237786246f6dced26a10eaf&quot;,    &quot;build_date&quot; : &quot;2020-05-12T02:01:37.602180Z&quot;,    &quot;build_snapshot&quot; : false,    &quot;lucene_version&quot; : &quot;8.5.1&quot;,    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;  },  &quot;tagline&quot; : &quot;You Know, for Search&quot;}</code></pre><h2 id="Install-Kibana"><a href="#Install-Kibana" class="headerlink" title="Install Kibana"></a>Install Kibana</h2><p>You don’t have to install Kibana prior to using ES. However, Kibana provides lots of additional features to your data.</p><p>Download from: <a href="https://www.elastic.co/cn/downloads/kibana" rel="external nofollow noopener noreferrer" target="_blank">https://www.elastic.co/cn/downloads/kibana</a></p><p>Decompress and modify file: config/kibana.yml, add this line:</p><pre><code>server.host: &quot;0.0.0.0&quot;</code></pre><p>Run Kibana</p><pre><code>cd bin./kibana</code></pre><p>You will see the following UI</p><p><img src="/images/blockchain/hive/es2.png" alt="Elasticsearch"></p><p>Import the E Commerence data for testing:</p><p><img src="/images/blockchain/hive/es3.png" alt="Elasticsearch"></p><p>Open the evtool and run a simple query, you will see:</p><p><img src="/images/blockchain/hive/es4.png" alt="Elasticsearch"></p><h2 id="Important-concepts-in-ES"><a href="#Important-concepts-in-ES" class="headerlink" title="Important concepts in ES"></a>Important concepts in ES</h2><p>Let’s compare the terms in ES with relational database:</p><p><strong>ES              RDB</strong></p><p>Index  =&gt;  Database<br>Type  =&gt;   Table<br>Document  =&gt;  Row<br>Field =&gt;  Column<br>Mapping  =&gt;   Schema</p><h2 id="Install-and-test-Python-elasticsearch-module"><a href="#Install-and-test-Python-elasticsearch-module" class="headerlink" title="Install and test Python elasticsearch module"></a>Install and test Python elasticsearch module</h2><p>Install elasticsearch via pip:</p><pre><code>pip install elasticsearch</code></pre><p>Enter Python interactive mode, and run the following commands to create ES index called “hive-posts-index”:</p><pre><code>&gt;&gt;&gt; from datetime import datetime&gt;&gt;&gt; from elasticsearch import Elasticsearch&gt;&gt;&gt; es = Elasticsearch()&gt;&gt;&gt; es.indices.create(index=&apos;hive-posts-index&apos;, ignore=400){&apos;acknowledged&apos;: True, &apos;shards_acknowledged&apos;: True, &apos;index&apos;: &apos;hive-posts-index&apos;}</code></pre><p>As shown in Kibana devtool, the ES index has been created:</p><p><img src="/images/blockchain/hive/es5.png" alt="Elasticsearch"></p><p>Add a test document into your index:</p><pre><code>es.index(index=&quot;hive-posts-index&quot;, id=1, body={&quot;any&quot;: &quot;data&quot;, &quot;timestamp&quot;: datetime.now()})</code></pre><p>Read the document you just added from ES:</p><pre><code>&gt;&gt;&gt; es.get(index=&quot;hive-posts-index&quot;, id=1){&apos;_index&apos;: &apos;hive-posts-index&apos;, &apos;_type&apos;: &apos;_doc&apos;, &apos;_id&apos;: &apos;1&apos;, &apos;_version&apos;: 1, &apos;_seq_no&apos;: 0, &apos;_primary_term&apos;: 1, &apos;found&apos;: True, &apos;_source&apos;: {&apos;any&apos;: &apos;data&apos;, &apos;timestamp&apos;: &apos;2020-06-02T15:52:40.759337&apos;}}</code></pre><h2 id="Add-Hive-posts-into-ES-index"><a href="#Add-Hive-posts-into-ES-index" class="headerlink" title="Add Hive posts into ES index"></a>Add Hive posts into ES index</h2><p>Here is a demo script to add my latest 5 posts into ES index:</p><pre><code>from beem import Steemfrom beem.account import Accountfrom datetime import datetimefrom elasticsearch import Elasticsearches = Elasticsearch()hive    = Steem(nodes = &apos;https://api.hive.blog&apos;)account = Account(&apos;aafeng&apos;, steem_instance = hive)posts   = account.get_blog(start_entry_id=0, limit=5)for post in posts:    author   = post.author    title    = post.title    body     = post.body    category = post.category    permlink = post.permlink    es.index(index=&quot;hive-posts-index&quot;, id=permlink, body={&quot;author&quot;: author,\                                                    &quot;title&quot;:  title,\                                                    &quot;body&quot;:   body,\                                                    &quot;category&quot;: category,\                                                    &quot;permlink&quot;: permlink,\                                                    &quot;timestamp&quot;: datetime.now()})</code></pre><p>We can query it in Kibana:</p><pre><code>GET hive-posts-index/_search?q=*:*</code></pre><p>The output suggests that my posts have been stored in ES:</p><p><img src="/images/blockchain/hive/es6.png" alt="Elasticsearch"></p><p>We also can use curl to test if my posts have been saved into ES:</p><pre><code>curl http://localhost:9200/hive-posts-index/_search\?size=5</code></pre><p>Now we have flexi way to query post data:</p><pre><code>GET hive-posts-index/_search?q=body:elasticsearchGET hive-posts-index/_search?q=category:hive-105017</code></pre>]]></content>
    
    <summary type="html">
    
      How to save Hive posts into Elasticsearch
    
    </summary>
    
      <category term="英文教程" scheme="https://www.aafeng.uk/categories/%E8%8B%B1%E6%96%87%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Hive" scheme="https://www.aafeng.uk/tags/Hive/"/>
    
  </entry>
  
  <entry>
    <title>房子扩建工程即将开始</title>
    <link href="https://www.aafeng.uk/house-extension/"/>
    <id>https://www.aafeng.uk/house-extension/</id>
    <published>2020-06-02T22:08:19.446Z</published>
    <updated>2020-06-02T22:08:19.446Z</updated>
    
    <content type="html"><![CDATA[<p>家中的房子扩建工程已经酝酿了很长时间。前一段时间由于全面停工停学，建筑工人也都被迫在家休息，因此工程就被拖了下来。今天Builder打电话说再过两周就来家中开始干活了。让我感觉似乎还没有准备好。</p><p><img src="/images/life/builder.jpg" alt="扩建工程"></p><a id="more"></a><p>去年的时候我和媳妇就扩建这件事已经达成一致意见，今年四月份开工，预计2-3个月的时间，在暑假完工，正好趁着暑期把家中收拾好。谁想到整个计划被新冠病毒彻底打乱。现在Builder要求开工，我其实还是非常犹豫的。</p><p>如果现在开工，最坏的可能就是工程干到一半的时候疫情第二次爆发，会被迫停工。这样自己家将会长期成为一个工地，对生活的负面影响将会很大。</p><p>如果现在不开工，而是等待形式彻底明朗的时候再开工。问题就在于第一不知道什么时候形式会变得明朗，甚至不知道形式会不会变得明朗。第二是builder不会一直等我们，可能builder会去做别的工程。再过几个月就到冬季了，而冬季是不适合这种工程的。这样一拖就不知道何年何月才能再重新开工了。</p><p>好在我们选择的Builder是朋友推荐的，人非常好。总是在安慰我们，即使在当前疫情下，我们可以work together，想办法把工程按时完成。</p><p>在反复权衡之后，我们决定开工！就算疫情一时半会不会完全好转，但生活毕竟还要继续。人类可能要学会长期和病毒共存了。至于下一步如何，只能走一步看一步了。希望builder能够顺利把我们的工程做完吧。</p>]]></content>
    
    <summary type="html">
    
      房子扩建工程即将开始
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
  </entry>
  
  <entry>
    <title>改良版鱼香肉丝</title>
    <link href="https://www.aafeng.uk/shredded-pork/"/>
    <id>https://www.aafeng.uk/shredded-pork/</id>
    <published>2020-06-01T21:19:34.552Z</published>
    <updated>2020-06-01T21:19:34.552Z</updated>
    
    <content type="html"><![CDATA[<p>最近朋友圈很多人都喜欢上了王刚的家常菜食谱。我们照着做了两个菜，感觉效果还真的不错。整体思路是按照王刚的做法来的，但稍微做了些调整，一是因为有的食材家中没有，还有就是完全按照菜谱做的效果并不是很好，最后出锅前又添了些配料。下面记录一下我们自己的改良版鱼香肉丝。</p><p>首先上一个成品图：<br><img src="/images/food/yxrs/1.jpg" alt="鱼香肉丝"></p><a id="more"></a><p>切好肉丝，用一个蛋清，盐，胡椒粉，生抽，料酒腌制肉丝：</p><p><img src="/images/food/yxrs/2.jpg" alt="鱼香肉丝"></p><p>接下来准备姜末，蒜末，还有泡椒碎。我们只用了4个小泡椒，就已经很辣了。由于考虑到孩子要吃，因此把泡椒碎和姜蒜分开放：</p><p><img src="/images/food/yxrs/3.jpg" alt="鱼香肉丝"></p><p>切好配菜，包括青椒丝，胡萝卜丝，和木耳</p><p><img src="/images/food/yxrs/4.jpg" alt="鱼香肉丝"></p><p>用生抽，醋，糖，盐，料酒，水淀粉配酱汁。</p><p>接下来就可以开始炒了。</p><p>首先将腌制好的肉丝在热油中炒熟，盛出备用。</p><p>加下来将姜末，蒜末，和剁椒碎在油中炒香。在这里我们又额外的添加了一勺郫县豆瓣酱，事实证明最终的效果还是很好的。</p><p>将肉丝和配菜放入锅中翻炒。稍后将配好的酱汁放入锅中继续炒熟，撒上葱花即可。</p>]]></content>
    
    <summary type="html">
    
      改良版鱼香肉丝
    
    </summary>
    
      <category term="美食" scheme="https://www.aafeng.uk/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>Python中的列表生成式</title>
    <link href="https://www.aafeng.uk/python-list-comprehensions/"/>
    <id>https://www.aafeng.uk/python-list-comprehensions/</id>
    <published>2020-05-31T21:47:23.417Z</published>
    <updated>2020-05-31T21:47:23.417Z</updated>
    
    <content type="html"><![CDATA[<p>用过Python的人一定对它的列表生成式(List Comprehensions)印象非常深刻。刚接触列表生成式的时候可能会有点懵，但一旦适应了之后肯定会喜欢其简洁高效的语法。下面把我经常使用的列表生成式做一个总结，欢迎指正。</p><p><img src="/images/technology/python/python3.png" alt="Python"></p><a id="more"></a><h2 id="数据再运算"><a href="#数据再运算" class="headerlink" title="数据再运算"></a>数据再运算</h2><pre><code>a = range(0, 10)b = [x * 2 for x in a]</code></pre><p>其运算结果会返回一个新的列表</p><h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><pre><code>r = range(0, 10)  s = [str(x) for x in a]</code></pre><h2 id="排列组合"><a href="#排列组合" class="headerlink" title="排列组合"></a>排列组合</h2><pre><code>[a + b for a in &apos;ABC&apos; for b in &apos;123&apos;] </code></pre><p>其输出为：</p><pre><code>[&apos;A1&apos;, &apos;A2&apos;, &apos;A3&apos;, &apos;B1&apos;, &apos;B2&apos;, &apos;B3&apos;, &apos;C1&apos;, &apos;C2&apos;, &apos;C3&apos;]</code></pre><h2 id="使用if做筛选"><a href="#使用if做筛选" class="headerlink" title="使用if做筛选"></a>使用if做筛选</h2><pre><code>b = [x*2 for x in a if x%2==0]</code></pre><p>把赋值与筛选写在一起：</p><pre><code>b = [x*2 for x in range(1, 10) if x%2==0]</code></pre><h2 id="打印键值对"><a href="#打印键值对" class="headerlink" title="打印键值对"></a>打印键值对</h2><p>遍历Python字典，并以自定义方式打印字典中的键值对：</p><pre><code>downloads = {&apos;Jan&apos;: 250, &apos;Feb&apos;: 382, &apos;Mar&apos;: 422}[k+&apos;=&apos; + str(v) for k,v in downloads.items()]</code></pre><h2 id="针对文件系统使用列表生成式"><a href="#针对文件系统使用列表生成式" class="headerlink" title="针对文件系统使用列表生成式"></a>针对文件系统使用列表生成式</h2><p>一条语句列举出”/var/log”中所有以”log”为扩展名的文件：</p><pre><code>[f for f in os.listdir(&quot;/var/log&quot;) if f.endswith(&apos;.log&apos;)]</code></pre><h2 id="函数分组"><a href="#函数分组" class="headerlink" title="函数分组"></a>函数分组</h2><p>在列表生成式中，可以根据函数的返回值进行分组。比如：根据首字母是否为“c“对一个列表中的所有单词进行分组：</p><pre><code>def group_by(lst, fn):    return [        [x for x in lst if fn(x)],        [x for x in lst if not fn(x)]    ]group_by([&apos;fox&apos;, &apos;dog&apos;, &apos;cat&apos;, &apos;people&apos;, &apos;cow&apos;, &apos;chicken&apos;], lambda x: x[0] == &apos;c&apos;)</code></pre><p>其输出为：</p><pre><code>[[&apos;cat&apos;, &apos;cow&apos;, &apos;chicken&apos;], [&apos;fox&apos;, &apos;dog&apos;, &apos;people&apos;]]</code></pre>]]></content>
    
    <summary type="html">
    
      Python中的列表生成式
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Python" scheme="https://www.aafeng.uk/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>因果关系</title>
    <link href="https://www.aafeng.uk/causal/"/>
    <id>https://www.aafeng.uk/causal/</id>
    <published>2020-05-30T22:11:10.359Z</published>
    <updated>2020-05-30T22:11:10.359Z</updated>
    
    <content type="html"><![CDATA[<p>前两天在写自己DIY那篇文章的时候，对于事情的因果关系，感觉有些困惑。我是因为不擅长DIY而对它没有太大兴趣呢，还是因为对它没有兴趣而变得不是很擅长呢？</p><p><img src="/images/thinking/why.jpg" alt="因果关系"><br>图源：Pixabay</p><a id="more"></a><p>从小接受的教育就是“种瓜得瓜，种豆得豆”，“一分辛苦，一分收获”。在数学上更是相信充分条件所体现的逻辑，比如：如果条件A满足，必然会有结果B。但最近我的想法在发生变化。很多事情的因果关系并不是绝对的。有时候因果关系是可以互换的。</p><p>首先拿我家孩子练琴的事来举例。刚开始的时候，儿子并不喜欢弹琴，但在妈妈的<del>威逼</del>鼓励下，慢慢取得了一些成就，获得很多奖杯/奖牌，同时也得到了老师和同学们的认可。这样他的信心越来越足，也越来越喜欢。在学琴这件事情上，喜欢弹琴和取得成绩之间是什么样的因果关系呢？在我看来，只有喜欢弹琴，才能越弹越好，才能取得好成绩。同样因为取得了好成绩，有了动力，会越来越喜欢弹琴。如果深究下去，终会陷入先有鸡，还是先有蛋的逻辑之中。</p><p>在工作问题上，很多人都会说，要选择一份自己喜欢的工作，这样才会把工作做好，就是所谓的“爱一行，干一行”吧。可我在读书期间，导师曾经说过一句话：”Do it, then like it”。如果用中文表述，应该是：“干一行，爱一行”吧。只要认真做一件工作，慢慢的就会培养对工作的自信，同时也会慢慢真正的喜欢上工作本身。</p><p>曾经听过一个说法：每天早上亲吻自己伴侣的人，收入会比没有这种亲密表现的人高出20%甚至更多，同时他们的平均寿命也更长。想想似乎有道理，早上一个吻，能够增进夫妻感情，精神状态会比较好。这样在工作的时候能做得更好，从而升职加薪。长期保持好的心理状态，就能增长寿命。但反过来一想，收入更高的人似乎更有时间来维护夫妻之间的感情。那么这里哪个是因，哪个又是果呢？</p><p>不过，无论怎么讲，每天不要忘记给TA一个吻，好处似乎还真不少。。。</p>]]></content>
    
    <summary type="html">
    
      因果关系
    
    </summary>
    
      <category term="思考" scheme="https://www.aafeng.uk/categories/%E6%80%9D%E8%80%83/"/>
    
    
  </entry>
  
  <entry>
    <title>Python中的日期/时间处理</title>
    <link href="https://www.aafeng.uk/python-datetime/"/>
    <id>https://www.aafeng.uk/python-datetime/</id>
    <published>2020-05-29T22:21:38.997Z</published>
    <updated>2020-05-29T22:21:38.997Z</updated>
    
    <content type="html"><![CDATA[<p>在写代码的时候有很多场合需要处理日期和时间，比如：在日志中需要记录当前时间，在处理订单的时候需要处理用户下单的时间，在Hive上的各种点赞机器人需要知道新帖子的创建时间，以及帖子的“年龄”等等。。。在Python中提供了非常强大的日期/时间处理模块：time，和datetime。这些模块中又有很多有用的函数。下面把我经常使用的函数做一总结，欢迎大家指正。</p><p><img src="/images/technology/python/datetime/datetime.jpg" alt="Python中的日期/时间处理"></p><p>图源：pixabay</p><a id="more"></a><h2 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h2><p>time模块提供了和时间相关的一些类及函数。</p><h3 id="时间偏移量表示法"><a href="#时间偏移量表示法" class="headerlink" title="时间偏移量表示法"></a>时间偏移量表示法</h3><p>在Python交互式窗口中输入time.time()，其输出为一个数字：</p><p><img src="/images/technology/python/datetime/1.png" alt="Python中的日期/时间处理"></p><p>这个数字代表了从1970年1月1日00:00:00至今的秒偏移量。</p><p>将其转换为字符串格式：</p><p><img src="/images/technology/python/datetime/2.png" alt="Python中的日期/时间处理"></p><h3 id="元组表示法"><a href="#元组表示法" class="headerlink" title="元组表示法"></a>元组表示法</h3><p>还有一种时间的表示法：使用包含9个整数的元组分别表示年，月，日，时，分，秒等：</p><p><img src="/images/technology/python/datetime/3.png" alt="Python中的日期/时间处理"></p><p>可以把这个元组转换为第一种表示法：</p><p><img src="/images/technology/python/datetime/4.png" alt="Python中的日期/时间处理"></p><h3 id="格式化字符串表示法"><a href="#格式化字符串表示法" class="headerlink" title="格式化字符串表示法"></a>格式化字符串表示法</h3><p>还可以将时间表示为我们熟悉的格式：</p><p><img src="/images/technology/python/datetime/5.png" alt="Python中的日期/时间处理"></p><h3 id="时间的加减法"><a href="#时间的加减法" class="headerlink" title="时间的加减法"></a>时间的加减法</h3><p>比如，计算一个小时之后的时间：</p><p><img src="/images/technology/python/datetime/6.png" alt="Python中的日期/时间处理"></p><h2 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h2><p>从 datetime 模块中，依次导入date，datetime，timedelta。</p><pre><code>from datetime import date, datetime, timedelta</code></pre><h3 id="获取日期"><a href="#获取日期" class="headerlink" title="获取日期"></a>获取日期</h3><p>获取当前日期：</p><p><img src="/images/technology/python/datetime/7.png" alt="Python中的日期/时间处理"></p><h3 id="日期时间和字符串转换"><a href="#日期时间和字符串转换" class="headerlink" title="日期时间和字符串转换"></a>日期时间和字符串转换</h3><p>将日期转换为字符串；</p><p><img src="/images/technology/python/datetime/8.png" alt="Python中的日期/时间处理"></p><p>将日期时间字符串转换为日期时间(datetime)类型：</p><p><img src="/images/technology/python/datetime/9.png" alt="Python中的日期/时间处理"></p><h3 id="计算时间差"><a href="#计算时间差" class="headerlink" title="计算时间差"></a>计算时间差</h3><p><img src="/images/technology/python/datetime/10.png" alt="Python中的日期/时间处理"></p><p>获取明天和昨天的时间：</p><p><img src="/images/technology/python/datetime/11.png" alt="Python中的日期/时间处理"></p><p>得到Hive文章的发布时间后，计算从文章发布时间到现在时间的秒数：</p><p><img src="/images/technology/python/datetime/12.png" alt="Python中的日期/时间处理"></p>]]></content>
    
    <summary type="html">
    
      Python中的日期/时间处理
    
    </summary>
    
      <category term="技术" scheme="https://www.aafeng.uk/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Python" scheme="https://www.aafeng.uk/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Hiveonboard</title>
    <link href="https://www.aafeng.uk/hiveonboard/"/>
    <id>https://www.aafeng.uk/hiveonboard/</id>
    <published>2020-05-28T21:05:26.755Z</published>
    <updated>2020-05-28T21:05:26.755Z</updated>
    
    <content type="html"><![CDATA[<p>最近看到了Hiveonboard这个账户创建服务，感觉很有意思，和大家分享一下。其实很多dapp都提供账户创建服务，可以说各有各的特色，有的是免费的，有的是需要收费的。有的可以秒级创建账户，有的则需要等待几天甚至更长时间才行。那么，Hiveonboard有什么特色呢？</p><p><img src="/images/blockchain/hive/hiveonboard.jpg" alt="Hiveonboard"></p><a id="more"></a><h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><p>首先，Hiveonboard提供的是创建账户的<strong>服务</strong>，而不是创建账户的<strong>功能</strong>。很多dapp具有创建Hive账户的<strong>功能</strong>，但Hiveonboard则为其他的dapp提供完整的账户创建服务。这样，其他的dapp就不必重新造轮子，而是专注于其核心功能上了。</p><p><img src="/images/blockchain/hive/hiveonboard2.jpg" alt="Hiveonboard"></p><p>从上图中可以看到，当dapp的用户选择了创建账户时，会被转向到Hiveonboard网站上，在完成了账户创建后，会返回该dapp。</p><h2 id="安全性考虑"><a href="#安全性考虑" class="headerlink" title="安全性考虑"></a>安全性考虑</h2><p>为了避免一些恶意网站的利用这项服务实现钓鱼功能，Hiveonboard实现了一个白名单，只有白名单上的用户才能使用这项服务。如果有新的dapp需要使用这项服务，可以<a href="https://github.com/christianfuerst/hiveonboard/blob/master/src/config/whitelist.json" rel="external nofollow noopener noreferrer" target="_blank">提交一个PR</a></p><h2 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h2><p>为了便于dapp测试创建账户的操作，Hiveonboard提供了调试模式，这样在进行测试的时候就不会真正的创建账户，也不会进行手机验证。要使用调试模式，只需要在网址中添加参数：debug_mode=true</p><pre><code>https://hiveonboard.com/create-account?debug_mode=true</code></pre><h2 id="试用Hiveonboard"><a href="#试用Hiveonboard" class="headerlink" title="试用Hiveonboard"></a>试用Hiveonboard</h2><p>自己尝试着从 tipu 网站开始，试用了Hiveonboard的账户创建功能，感觉还是很顺滑的。整个账户创建过程只需要不到2分钟的时间。中间需要验证手机号。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>如果打算开发一款自己的dapp，但没有时间实现账户创建功能，可以考虑试用Hiveonboard，将其账户创建功能和自己的dapp结合在一起。</p>]]></content>
    
    <summary type="html">
    
      Hiveonboard
    
    </summary>
    
      <category term="区块链" scheme="https://www.aafeng.uk/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="Hive" scheme="https://www.aafeng.uk/tags/Hive/"/>
    
  </entry>
  
  <entry>
    <title>DIY菜鸟</title>
    <link href="https://www.aafeng.uk/diy/"/>
    <id>https://www.aafeng.uk/diy/</id>
    <published>2020-05-27T22:31:36.436Z</published>
    <updated>2020-05-27T22:31:36.436Z</updated>
    
    <content type="html"><![CDATA[<p>今天媳妇告诉我家里的锅炉坏了，水管里没有热水了。于是我去看了一下，发现报警指示灯一直在闪。首先检查了一下水压，发现水压不足。于是立刻把水压调整了一下，但报警灯仍然还亮着。接下来找到了锅炉的说明书，在排错章节找到了这个问题的解决方案。把锅炉重置了一下，问题解决。整个用时不足20分钟。</p><p><img src="/images/life/boiler.jpg" alt="Boiler"></p><a id="more"></a><p>其实，我本是一个DIY菜鸟。原因很简单：第一自己对这类东西不感兴趣，第二在这方面的动手能力似乎不强。久而久之，能够花钱找人的就都尽量找人来解决了。但在英国这里的人工很贵。而且很多电工，水暖工只要一请到家中，无论是否修好都要收费。记得上次家中的下水道堵了，自己尝试了一下无法解决。于是叫了一个水暖工来帮忙。水暖工来干了一个下午都没有疏通，当时感觉一百多英镑可能要白扔了。还好在水暖工打算放弃，要收工的最后一刻，下水终于通了。后来，通过和朋友打听，以及网上搜到的资料，学会了定期向下水道中灌些碱性的Soda Crystal来溶解其中的油脂。同时也购买了相应的工具。慢慢的掌握了保持下水道畅通的诀窍。</p><p>后来慢慢的接触到了很多DIY大神。记得当时读书的时候，自己的导师是计算机科学的教授，同时也是一位DIY高手。他在业余时间自己组装过摩托车，汽车，甚至花费了几年的时间自己组装了一艘游艇，而且第一次下水试航就成功！后来周边也有很多朋友是DIY高手，自己重做浴室，重新装修厨房，把电工，水暖工，瓦工的活全包了。慢慢受这些高人们的影响。有些家中的电器或者设备出现故障，首先就会想到自己能不能修好。自己对着Youtube视频，磕磕绊绊的也修过不少东西，慢慢也对DIY产生了一点点兴趣。</p><p>中国有句古话叫做庖丁解牛，其实很多事情都是这样的，练久了就成了高手和专家。我不能奢望自己能成为DIY高手，但对着Youtube视频，把家中电器，设备的常见故障已经解决了不少了，应该也算是半个DIY爱好者了吧。</p>]]></content>
    
    <summary type="html">
    
      DIY菜鸟
    
    </summary>
    
      <category term="生活" scheme="https://www.aafeng.uk/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="DIY" scheme="https://www.aafeng.uk/tags/DIY/"/>
    
  </entry>
  
</feed>
